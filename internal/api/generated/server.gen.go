// Package generated provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.5.1 DO NOT EDIT.
package generated

import (
	"bytes"
	"compress/gzip"
	"encoding/base64"
	"fmt"
	"net/http"
	"net/url"
	"path"
	"strings"
	"time"

	"github.com/getkin/kin-openapi/openapi3"
	"github.com/gin-gonic/gin"
	"github.com/oapi-codegen/runtime"
	openapi_types "github.com/oapi-codegen/runtime/types"
)

const (
	BearerAuthScopes = "BearerAuth.Scopes"
)

// Defines values for ApprovalTicketOperationType.
const (
	CREATE ApprovalTicketOperationType = "CREATE"
	DELETE ApprovalTicketOperationType = "DELETE"
)

// Defines values for ApprovalTicketStatus.
const (
	ApprovalTicketStatusAPPROVED  ApprovalTicketStatus = "APPROVED"
	ApprovalTicketStatusCANCELLED ApprovalTicketStatus = "CANCELLED"
	ApprovalTicketStatusEXECUTING ApprovalTicketStatus = "EXECUTING"
	ApprovalTicketStatusFAILED    ApprovalTicketStatus = "FAILED"
	ApprovalTicketStatusPENDING   ApprovalTicketStatus = "PENDING"
	ApprovalTicketStatusREJECTED  ApprovalTicketStatus = "REJECTED"
	ApprovalTicketStatusSUCCESS   ApprovalTicketStatus = "SUCCESS"
)

// Defines values for ApprovalTicketResponseStatus.
const (
	ApprovalTicketResponseStatusPENDING ApprovalTicketResponseStatus = "PENDING"
)

// Defines values for ClusterEnvironment.
const (
	ClusterEnvironmentProd ClusterEnvironment = "prod"
	ClusterEnvironmentTest ClusterEnvironment = "test"
)

// Defines values for ClusterStatus.
const (
	ClusterStatusHEALTHY     ClusterStatus = "HEALTHY"
	ClusterStatusUNHEALTHY   ClusterStatus = "UNHEALTHY"
	ClusterStatusUNKNOWN     ClusterStatus = "UNKNOWN"
	ClusterStatusUNREACHABLE ClusterStatus = "UNREACHABLE"
)

// Defines values for ClusterCreateRequestEnvironment.
const (
	ClusterCreateRequestEnvironmentProd ClusterCreateRequestEnvironment = "prod"
	ClusterCreateRequestEnvironmentTest ClusterCreateRequestEnvironment = "test"
)

// Defines values for ClusterEnvironmentUpdateEnvironment.
const (
	ClusterEnvironmentUpdateEnvironmentProd ClusterEnvironmentUpdateEnvironment = "prod"
	ClusterEnvironmentUpdateEnvironmentTest ClusterEnvironmentUpdateEnvironment = "test"
)

// Defines values for DeleteVMResponseStatus.
const (
	DeleteVMResponseStatusPENDING DeleteVMResponseStatus = "PENDING"
)

// Defines values for HealthStatus.
const (
	HealthStatusDegraded HealthStatus = "degraded"
	HealthStatusError    HealthStatus = "error"
	HealthStatusOk       HealthStatus = "ok"
)

// Defines values for NamespaceCreateRequestEnvironment.
const (
	NamespaceCreateRequestEnvironmentProd NamespaceCreateRequestEnvironment = "prod"
	NamespaceCreateRequestEnvironmentTest NamespaceCreateRequestEnvironment = "test"
)

// Defines values for NamespaceRegistryEnvironment.
const (
	NamespaceRegistryEnvironmentProd NamespaceRegistryEnvironment = "prod"
	NamespaceRegistryEnvironmentTest NamespaceRegistryEnvironment = "test"
)

// Defines values for NotificationType.
const (
	APPROVALCOMPLETED NotificationType = "APPROVAL_COMPLETED"
	APPROVALPENDING   NotificationType = "APPROVAL_PENDING"
	APPROVALREJECTED  NotificationType = "APPROVAL_REJECTED"
	VMSTATUSCHANGE    NotificationType = "VM_STATUS_CHANGE"
)

// Defines values for VMStatus.
const (
	VMStatusCREATING  VMStatus = "CREATING"
	VMStatusDELETING  VMStatus = "DELETING"
	VMStatusFAILED    VMStatus = "FAILED"
	VMStatusMIGRATING VMStatus = "MIGRATING"
	VMStatusPAUSED    VMStatus = "PAUSED"
	VMStatusPENDING   VMStatus = "PENDING"
	VMStatusRUNNING   VMStatus = "RUNNING"
	VMStatusSTOPPED   VMStatus = "STOPPED"
	VMStatusSTOPPING  VMStatus = "STOPPING"
	VMStatusUNKNOWN   VMStatus = "UNKNOWN"
)

// Defines values for SortOrder.
const (
	SortOrderAsc  SortOrder = "asc"
	SortOrderDesc SortOrder = "desc"
)

// Defines values for ListNamespacesParamsEnvironment.
const (
	ListNamespacesParamsEnvironmentProd ListNamespacesParamsEnvironment = "prod"
	ListNamespacesParamsEnvironmentTest ListNamespacesParamsEnvironment = "test"
)

// Defines values for ListApprovalsParamsStatus.
const (
	ListApprovalsParamsStatusAPPROVED  ListApprovalsParamsStatus = "APPROVED"
	ListApprovalsParamsStatusCANCELLED ListApprovalsParamsStatus = "CANCELLED"
	ListApprovalsParamsStatusEXECUTING ListApprovalsParamsStatus = "EXECUTING"
	ListApprovalsParamsStatusFAILED    ListApprovalsParamsStatus = "FAILED"
	ListApprovalsParamsStatusPENDING   ListApprovalsParamsStatus = "PENDING"
	ListApprovalsParamsStatusREJECTED  ListApprovalsParamsStatus = "REJECTED"
	ListApprovalsParamsStatusSUCCESS   ListApprovalsParamsStatus = "SUCCESS"
)

// Defines values for ListSystemsParamsSortOrder.
const (
	ListSystemsParamsSortOrderAsc  ListSystemsParamsSortOrder = "asc"
	ListSystemsParamsSortOrderDesc ListSystemsParamsSortOrder = "desc"
)

// Defines values for ListVMsParamsSortOrder.
const (
	Asc  ListVMsParamsSortOrder = "asc"
	Desc ListVMsParamsSortOrder = "desc"
)

// ApprovalDecisionRequest defines model for ApprovalDecisionRequest.
type ApprovalDecisionRequest struct {
	Comment string `json:"comment,omitempty,omitzero"`

	// SelectedClusterId Admin selects target cluster (ADR-0017)
	SelectedClusterId    string `json:"selected_cluster_id,omitempty,omitzero"`
	SelectedStorageClass string `json:"selected_storage_class,omitempty,omitzero"`
}

// ApprovalTicket defines model for ApprovalTicket.
type ApprovalTicket struct {
	Approver  string    `json:"approver,omitempty,omitzero"`
	CreatedAt time.Time `json:"created_at,omitempty,omitzero"`
	EventId   string    `json:"event_id"`
	Id        string    `json:"id"`

	// OperationType Type of operation this ticket represents (ADR-0015)
	OperationType ApprovalTicketOperationType `json:"operation_type,omitempty,omitzero"`
	Reason        string                      `json:"reason,omitempty,omitzero"`
	RejectReason  string                      `json:"reject_reason,omitempty,omitzero"`
	Requester     string                      `json:"requester"`
	Status        ApprovalTicketStatus        `json:"status"`

	// TargetVmId For DELETE tickets, the VM being deleted
	TargetVmId string `json:"target_vm_id,omitempty,omitzero"`

	// TargetVmName For DELETE tickets, the VM name (for display)
	TargetVmName string `json:"target_vm_name,omitempty,omitzero"`
}

// ApprovalTicketOperationType Type of operation this ticket represents (ADR-0015)
type ApprovalTicketOperationType string

// ApprovalTicketStatus defines model for ApprovalTicket.Status.
type ApprovalTicketStatus string

// ApprovalTicketList defines model for ApprovalTicketList.
type ApprovalTicketList struct {
	Items      []ApprovalTicket `json:"items,omitempty,omitzero"`
	Pagination Pagination       `json:"pagination,omitempty,omitzero"`
}

// ApprovalTicketResponse defines model for ApprovalTicketResponse.
type ApprovalTicketResponse struct {
	Status   ApprovalTicketResponseStatus `json:"status"`
	TicketId string                       `json:"ticket_id"`
}

// ApprovalTicketResponseStatus defines model for ApprovalTicketResponse.Status.
type ApprovalTicketResponseStatus string

// AuditLog defines model for AuditLog.
type AuditLog struct {
	Action       string                 `json:"action"`
	Actor        string                 `json:"actor"`
	CreatedAt    time.Time              `json:"created_at"`
	Details      map[string]interface{} `json:"details,omitempty,omitzero"`
	Id           string                 `json:"id"`
	ResourceId   string                 `json:"resource_id"`
	ResourceType string                 `json:"resource_type"`
}

// AuditLogList defines model for AuditLogList.
type AuditLogList struct {
	Items      []AuditLog `json:"items,omitempty,omitzero"`
	Pagination Pagination `json:"pagination,omitempty,omitzero"`
}

// ChangePasswordRequest defines model for ChangePasswordRequest.
type ChangePasswordRequest struct {
	NewPassword string `json:"new_password"`
	OldPassword string `json:"old_password"`
}

// Cluster defines model for Cluster.
type Cluster struct {
	ApiServerUrl        string    `json:"api_server_url"`
	CreatedAt           time.Time `json:"created_at,omitempty,omitzero"`
	DefaultStorageClass string    `json:"default_storage_class,omitempty,omitzero"`
	DisplayName         string    `json:"display_name,omitempty,omitzero"`
	Enabled             bool      `json:"enabled,omitempty,omitzero"`

	// Environment Cluster environment type (ADR-0015 §1, §15)
	Environment     ClusterEnvironment `json:"environment,omitempty,omitzero"`
	Id              string             `json:"id"`
	KubevirtVersion string             `json:"kubevirt_version,omitempty,omitzero"`
	Name            string             `json:"name"`
	Status          ClusterStatus      `json:"status"`

	// StorageClasses Auto-detected StorageClass list (ADR-0015 §8)
	StorageClasses []string `json:"storage_classes,omitempty,omitzero"`
}

// ClusterEnvironment Cluster environment type (ADR-0015 §1, §15)
type ClusterEnvironment string

// ClusterStatus defines model for Cluster.Status.
type ClusterStatus string

// ClusterCreateRequest defines model for ClusterCreateRequest.
type ClusterCreateRequest struct {
	DisplayName string                          `json:"display_name,omitempty,omitzero"`
	Environment ClusterCreateRequestEnvironment `json:"environment,omitempty,omitzero"`

	// Kubeconfig Base64-encoded kubeconfig (stored encrypted, ADR-0012)
	Kubeconfig []byte `json:"kubeconfig"`
	Name       string `json:"name"`
}

// ClusterCreateRequestEnvironment defines model for ClusterCreateRequest.Environment.
type ClusterCreateRequestEnvironment string

// ClusterEnvironmentUpdate defines model for ClusterEnvironmentUpdate.
type ClusterEnvironmentUpdate struct {
	Environment ClusterEnvironmentUpdateEnvironment `json:"environment"`
}

// ClusterEnvironmentUpdateEnvironment defines model for ClusterEnvironmentUpdate.Environment.
type ClusterEnvironmentUpdateEnvironment string

// ClusterList defines model for ClusterList.
type ClusterList struct {
	Items      []Cluster  `json:"items,omitempty,omitzero"`
	Pagination Pagination `json:"pagination,omitempty,omitzero"`
}

// DeleteVMResponse defines model for DeleteVMResponse.
type DeleteVMResponse struct {
	EventId  string                 `json:"event_id"`
	Status   DeleteVMResponseStatus `json:"status"`
	TicketId string                 `json:"ticket_id"`
}

// DeleteVMResponseStatus defines model for DeleteVMResponse.Status.
type DeleteVMResponseStatus string

// Error defines model for Error.
type Error struct {
	// Code Machine-readable error code (frontend handles i18n)
	Code string `json:"code"`

	// Message English log message (not for UI display)
	Message string                 `json:"message,omitempty,omitzero"`
	Params  map[string]interface{} `json:"params,omitempty,omitzero"`
}

// Health defines model for Health.
type Health struct {
	Checks  map[string]string `json:"checks,omitempty,omitzero"`
	Status  HealthStatus      `json:"status"`
	Version string            `json:"version,omitempty,omitzero"`
}

// HealthStatus defines model for Health.Status.
type HealthStatus string

// InstanceSize defines model for InstanceSize.
type InstanceSize struct {
	CpuCores          int                    `json:"cpu_cores"`
	DedicatedCpu      bool                   `json:"dedicated_cpu,omitempty,omitzero"`
	Description       string                 `json:"description,omitempty,omitzero"`
	DiskGb            int                    `json:"disk_gb,omitempty,omitzero"`
	DisplayName       string                 `json:"display_name,omitempty,omitzero"`
	Enabled           bool                   `json:"enabled,omitempty,omitzero"`
	HugepagesSize     string                 `json:"hugepages_size,omitempty,omitzero"`
	Id                string                 `json:"id"`
	MemoryMb          int                    `json:"memory_mb"`
	Name              string                 `json:"name"`
	RequiresGpu       bool                   `json:"requires_gpu,omitempty,omitzero"`
	RequiresHugepages bool                   `json:"requires_hugepages,omitempty,omitzero"`
	RequiresSriov     bool                   `json:"requires_sriov,omitempty,omitzero"`
	SpecOverrides     map[string]interface{} `json:"spec_overrides,omitempty,omitzero"`
}

// InstanceSizeList defines model for InstanceSizeList.
type InstanceSizeList struct {
	Items []InstanceSize `json:"items,omitempty,omitzero"`
}

// LoginRequest defines model for LoginRequest.
type LoginRequest struct {
	Password string `json:"password"`
	Username string `json:"username"`
}

// LoginResponse defines model for LoginResponse.
type LoginResponse struct {
	ExpiresAt           time.Time `json:"expires_at,omitempty,omitzero"`
	ForcePasswordChange bool      `json:"force_password_change,omitempty,omitzero"`
	Token               string    `json:"token"`
}

// NamespaceCreateRequest defines model for NamespaceCreateRequest.
type NamespaceCreateRequest struct {
	Description string                            `json:"description,omitempty,omitzero"`
	Environment NamespaceCreateRequestEnvironment `json:"environment"`

	// Name Must follow RFC 1035 naming (ADR-0019)
	Name string `json:"name"`
}

// NamespaceCreateRequestEnvironment defines model for NamespaceCreateRequest.Environment.
type NamespaceCreateRequestEnvironment string

// NamespaceRegistry defines model for NamespaceRegistry.
type NamespaceRegistry struct {
	CreatedAt   time.Time                    `json:"created_at,omitempty,omitzero"`
	CreatedBy   string                       `json:"created_by,omitempty,omitzero"`
	Description string                       `json:"description,omitempty,omitzero"`
	Enabled     bool                         `json:"enabled,omitempty,omitzero"`
	Environment NamespaceRegistryEnvironment `json:"environment"`
	Id          string                       `json:"id"`

	// Name Globally unique namespace name (RFC 1035)
	Name      string    `json:"name"`
	UpdatedAt time.Time `json:"updated_at,omitempty,omitzero"`
}

// NamespaceRegistryEnvironment defines model for NamespaceRegistry.Environment.
type NamespaceRegistryEnvironment string

// NamespaceRegistryList defines model for NamespaceRegistryList.
type NamespaceRegistryList struct {
	Items      []NamespaceRegistry `json:"items,omitempty,omitzero"`
	Pagination Pagination          `json:"pagination,omitempty,omitzero"`
}

// NamespaceUpdateRequest defines model for NamespaceUpdateRequest.
type NamespaceUpdateRequest struct {
	Description string `json:"description,omitempty,omitzero"`
	Enabled     bool   `json:"enabled,omitempty,omitzero"`
}

// Notification defines model for Notification.
type Notification struct {
	CreatedAt    time.Time        `json:"created_at"`
	Id           string           `json:"id"`
	Message      string           `json:"message"`
	Read         bool             `json:"read"`
	ReadAt       time.Time        `json:"read_at,omitempty,omitzero"`
	ResourceId   string           `json:"resource_id,omitempty,omitzero"`
	ResourceType string           `json:"resource_type,omitempty,omitzero"`
	Title        string           `json:"title"`
	Type         NotificationType `json:"type"`
}

// NotificationType defines model for Notification.Type.
type NotificationType string

// NotificationList defines model for NotificationList.
type NotificationList struct {
	Items      []Notification `json:"items,omitempty,omitzero"`
	Pagination Pagination     `json:"pagination,omitempty,omitzero"`
}

// Pagination defines model for Pagination.
type Pagination struct {
	Page       int `json:"page,omitempty,omitzero"`
	PerPage    int `json:"per_page,omitempty,omitzero"`
	Total      int `json:"total,omitempty,omitzero"`
	TotalPages int `json:"total_pages,omitempty,omitzero"`
}

// RejectDecisionRequest defines model for RejectDecisionRequest.
type RejectDecisionRequest struct {
	Reason string `json:"reason"`
}

// Service defines model for Service.
type Service struct {
	CreatedAt         time.Time `json:"created_at"`
	Description       string    `json:"description,omitempty,omitzero"`
	Id                string    `json:"id"`
	Name              string    `json:"name"`
	NextInstanceIndex int       `json:"next_instance_index,omitempty,omitzero"`
	SystemId          string    `json:"system_id"`
}

// ServiceCreateRequest defines model for ServiceCreateRequest.
type ServiceCreateRequest struct {
	Description string `json:"description,omitempty,omitzero"`
	Name        string `json:"name"`
}

// ServiceList defines model for ServiceList.
type ServiceList struct {
	Items      []Service  `json:"items,omitempty,omitzero"`
	Pagination Pagination `json:"pagination,omitempty,omitzero"`
}

// System defines model for System.
type System struct {
	CreatedAt   time.Time `json:"created_at"`
	CreatedBy   string    `json:"created_by"`
	Description string    `json:"description,omitempty,omitzero"`
	Id          string    `json:"id"`
	Name        string    `json:"name"`
	TenantId    string    `json:"tenant_id,omitempty,omitzero"`
	UpdatedAt   time.Time `json:"updated_at,omitempty,omitzero"`
}

// SystemCreateRequest defines model for SystemCreateRequest.
type SystemCreateRequest struct {
	Description string `json:"description,omitempty,omitzero"`

	// Name RFC 1035 compliant name (ADR-0019)
	Name string `json:"name"`
}

// SystemList defines model for SystemList.
type SystemList struct {
	Items      []System   `json:"items,omitempty,omitzero"`
	Pagination Pagination `json:"pagination,omitempty,omitzero"`
}

// Template defines model for Template.
type Template struct {
	Description string `json:"description,omitempty,omitzero"`
	DisplayName string `json:"display_name,omitempty,omitzero"`
	Enabled     bool   `json:"enabled,omitempty,omitzero"`
	Id          string `json:"id"`
	Name        string `json:"name"`
	OsFamily    string `json:"os_family,omitempty,omitzero"`
	OsVersion   string `json:"os_version,omitempty,omitzero"`
	Version     int    `json:"version"`
}

// TemplateList defines model for TemplateList.
type TemplateList struct {
	Items      []Template `json:"items,omitempty,omitzero"`
	Pagination Pagination `json:"pagination,omitempty,omitzero"`
}

// UnreadCount defines model for UnreadCount.
type UnreadCount struct {
	Count int `json:"count"`
}

// UserInfo defines model for UserInfo.
type UserInfo struct {
	DisplayName string   `json:"display_name,omitempty,omitzero"`
	Email       string   `json:"email,omitempty,omitzero"`
	Id          string   `json:"id"`
	Roles       []string `json:"roles,omitempty,omitzero"`
	Username    string   `json:"username"`
}

// VM defines model for VM.
type VM struct {
	ClusterId string    `json:"cluster_id,omitempty,omitzero"`
	CreatedAt time.Time `json:"created_at,omitempty,omitzero"`
	CreatedBy string    `json:"created_by,omitempty,omitzero"`
	Hostname  string    `json:"hostname,omitempty,omitzero"`
	Id        string    `json:"id"`
	Instance  string    `json:"instance,omitempty,omitzero"`
	Name      string    `json:"name"`
	Namespace string    `json:"namespace"`
	ServiceId string    `json:"service_id,omitempty,omitzero"`
	Status    VMStatus  `json:"status"`
	TicketId  string    `json:"ticket_id,omitempty,omitzero"`
}

// VMStatus defines model for VM.Status.
type VMStatus string

// VMCreateRequest defines model for VMCreateRequest.
type VMCreateRequest struct {
	InstanceSizeId openapi_types.UUID `json:"instance_size_id"`

	// Namespace Target K8s namespace (immutable after submission, ADR-0017)
	Namespace  string             `json:"namespace"`
	Reason     string             `json:"reason"`
	ServiceId  openapi_types.UUID `json:"service_id"`
	TemplateId openapi_types.UUID `json:"template_id"`
}

// VMList defines model for VMList.
type VMList struct {
	Items      []VM       `json:"items,omitempty,omitzero"`
	Pagination Pagination `json:"pagination,omitempty,omitzero"`
}

// Confirm defines model for Confirm.
type Confirm = bool

// ConfirmName defines model for ConfirmName.
type ConfirmName = string

// NamespaceID defines model for NamespaceID.
type NamespaceID = string

// NotificationID defines model for NotificationID.
type NotificationID = string

// Page defines model for Page.
type Page = int

// PerPage defines model for PerPage.
type PerPage = int

// ServiceID defines model for ServiceID.
type ServiceID = string

// SortBy defines model for SortBy.
type SortBy = string

// SortOrder defines model for SortOrder.
type SortOrder string

// SystemID defines model for SystemID.
type SystemID = string

// TicketID defines model for TicketID.
type TicketID = string

// VMID defines model for VMID.
type VMID = string

// BadRequest defines model for BadRequest.
type BadRequest = Error

// Conflict defines model for Conflict.
type Conflict = Error

// NotFound defines model for NotFound.
type NotFound = Error

// Unauthorized defines model for Unauthorized.
type Unauthorized = Error

// ListClustersParams defines parameters for ListClusters.
type ListClustersParams struct {
	// Page Page number (1-indexed)
	Page Page `form:"page,omitempty" json:"page,omitempty,omitzero"`

	// PerPage Items per page
	PerPage PerPage `form:"per_page,omitempty" json:"per_page,omitempty,omitzero"`
}

// ListNamespacesParams defines parameters for ListNamespaces.
type ListNamespacesParams struct {
	// Page Page number (1-indexed)
	Page Page `form:"page,omitempty" json:"page,omitempty,omitzero"`

	// PerPage Items per page
	PerPage PerPage `form:"per_page,omitempty" json:"per_page,omitempty,omitzero"`

	// Environment Filter by environment type
	Environment ListNamespacesParamsEnvironment `form:"environment,omitempty" json:"environment,omitempty,omitzero"`
}

// ListNamespacesParamsEnvironment defines parameters for ListNamespaces.
type ListNamespacesParamsEnvironment string

// DeleteNamespaceParams defines parameters for DeleteNamespace.
type DeleteNamespaceParams struct {
	// ConfirmName Type resource name to confirm deletion (ADR-0015 §13 addendum).
	// Must match the resource name exactly.
	ConfirmName ConfirmName `form:"confirm_name,omitempty" json:"confirm_name,omitempty,omitzero"`
}

// ListApprovalsParams defines parameters for ListApprovals.
type ListApprovalsParams struct {
	// Page Page number (1-indexed)
	Page Page `form:"page,omitempty" json:"page,omitempty,omitzero"`

	// PerPage Items per page
	PerPage PerPage                   `form:"per_page,omitempty" json:"per_page,omitempty,omitzero"`
	Status  ListApprovalsParamsStatus `form:"status,omitempty" json:"status,omitempty,omitzero"`
}

// ListApprovalsParamsStatus defines parameters for ListApprovals.
type ListApprovalsParamsStatus string

// ListAuditLogsParams defines parameters for ListAuditLogs.
type ListAuditLogsParams struct {
	// Page Page number (1-indexed)
	Page Page `form:"page,omitempty" json:"page,omitempty,omitzero"`

	// PerPage Items per page
	PerPage      PerPage `form:"per_page,omitempty" json:"per_page,omitempty,omitzero"`
	Action       string  `form:"action,omitempty" json:"action,omitempty,omitzero"`
	Actor        string  `form:"actor,omitempty" json:"actor,omitempty,omitzero"`
	ResourceType string  `form:"resource_type,omitempty" json:"resource_type,omitempty,omitzero"`
	ResourceId   string  `form:"resource_id,omitempty" json:"resource_id,omitempty,omitzero"`
}

// ListNotificationsParams defines parameters for ListNotifications.
type ListNotificationsParams struct {
	// Page Page number (1-indexed)
	Page Page `form:"page,omitempty" json:"page,omitempty,omitzero"`

	// PerPage Items per page
	PerPage PerPage `form:"per_page,omitempty" json:"per_page,omitempty,omitzero"`

	// UnreadOnly Filter to unread notifications only
	UnreadOnly bool `form:"unread_only,omitempty" json:"unread_only,omitempty,omitzero"`
}

// ListSystemsParams defines parameters for ListSystems.
type ListSystemsParams struct {
	// Page Page number (1-indexed)
	Page Page `form:"page,omitempty" json:"page,omitempty,omitzero"`

	// PerPage Items per page
	PerPage PerPage `form:"per_page,omitempty" json:"per_page,omitempty,omitzero"`

	// SortBy Field to sort by
	SortBy SortBy `form:"sort_by,omitempty" json:"sort_by,omitempty,omitzero"`

	// SortOrder Sort direction
	SortOrder ListSystemsParamsSortOrder `form:"sort_order,omitempty" json:"sort_order,omitempty,omitzero"`
}

// ListSystemsParamsSortOrder defines parameters for ListSystems.
type ListSystemsParamsSortOrder string

// DeleteSystemParams defines parameters for DeleteSystem.
type DeleteSystemParams struct {
	// ConfirmName Type resource name to confirm deletion (ADR-0015 §13 addendum).
	// Must match the resource name exactly.
	ConfirmName ConfirmName `form:"confirm_name,omitempty" json:"confirm_name,omitempty,omitzero"`
}

// ListServicesParams defines parameters for ListServices.
type ListServicesParams struct {
	// Page Page number (1-indexed)
	Page Page `form:"page,omitempty" json:"page,omitempty,omitzero"`

	// PerPage Items per page
	PerPage PerPage `form:"per_page,omitempty" json:"per_page,omitempty,omitzero"`
}

// DeleteServiceParams defines parameters for DeleteService.
type DeleteServiceParams struct {
	// Confirm Simple deletion confirmation flag (ADR-0015 §13)
	Confirm Confirm `form:"confirm,omitempty" json:"confirm,omitempty,omitzero"`
}

// ListTemplatesParams defines parameters for ListTemplates.
type ListTemplatesParams struct {
	// Page Page number (1-indexed)
	Page Page `form:"page,omitempty" json:"page,omitempty,omitzero"`

	// PerPage Items per page
	PerPage PerPage `form:"per_page,omitempty" json:"per_page,omitempty,omitzero"`
}

// ListVMsParams defines parameters for ListVMs.
type ListVMsParams struct {
	// Page Page number (1-indexed)
	Page Page `form:"page,omitempty" json:"page,omitempty,omitzero"`

	// PerPage Items per page
	PerPage PerPage `form:"per_page,omitempty" json:"per_page,omitempty,omitzero"`

	// SortBy Field to sort by
	SortBy SortBy `form:"sort_by,omitempty" json:"sort_by,omitempty,omitzero"`

	// SortOrder Sort direction
	SortOrder ListVMsParamsSortOrder `form:"sort_order,omitempty" json:"sort_order,omitempty,omitzero"`
	Namespace string                 `form:"namespace,omitempty" json:"namespace,omitempty,omitzero"`
	Status    string                 `form:"status,omitempty" json:"status,omitempty,omitzero"`
}

// ListVMsParamsSortOrder defines parameters for ListVMs.
type ListVMsParamsSortOrder string

// DeleteVMParams defines parameters for DeleteVM.
type DeleteVMParams struct {
	// Confirm Simple deletion confirmation flag (ADR-0015 §13)
	Confirm Confirm `form:"confirm,omitempty" json:"confirm,omitempty,omitzero"`

	// ConfirmName Type resource name to confirm deletion (ADR-0015 §13 addendum).
	// Must match the resource name exactly.
	ConfirmName ConfirmName `form:"confirm_name,omitempty" json:"confirm_name,omitempty,omitzero"`
}

// CreateClusterJSONRequestBody defines body for CreateCluster for application/json ContentType.
type CreateClusterJSONRequestBody = ClusterCreateRequest

// UpdateClusterEnvironmentJSONRequestBody defines body for UpdateClusterEnvironment for application/json ContentType.
type UpdateClusterEnvironmentJSONRequestBody = ClusterEnvironmentUpdate

// CreateNamespaceJSONRequestBody defines body for CreateNamespace for application/json ContentType.
type CreateNamespaceJSONRequestBody = NamespaceCreateRequest

// UpdateNamespaceJSONRequestBody defines body for UpdateNamespace for application/json ContentType.
type UpdateNamespaceJSONRequestBody = NamespaceUpdateRequest

// ApproveTicketJSONRequestBody defines body for ApproveTicket for application/json ContentType.
type ApproveTicketJSONRequestBody = ApprovalDecisionRequest

// RejectTicketJSONRequestBody defines body for RejectTicket for application/json ContentType.
type RejectTicketJSONRequestBody = RejectDecisionRequest

// ChangePasswordJSONRequestBody defines body for ChangePassword for application/json ContentType.
type ChangePasswordJSONRequestBody = ChangePasswordRequest

// LoginJSONRequestBody defines body for Login for application/json ContentType.
type LoginJSONRequestBody = LoginRequest

// CreateSystemJSONRequestBody defines body for CreateSystem for application/json ContentType.
type CreateSystemJSONRequestBody = SystemCreateRequest

// CreateServiceJSONRequestBody defines body for CreateService for application/json ContentType.
type CreateServiceJSONRequestBody = ServiceCreateRequest

// CreateVMRequestJSONRequestBody defines body for CreateVMRequest for application/json ContentType.
type CreateVMRequestJSONRequestBody = VMCreateRequest

// ServerInterface represents all server handlers.
type ServerInterface interface {
	// List clusters
	// (GET /admin/clusters)
	ListClusters(c *gin.Context, params ListClustersParams)
	// Register a cluster
	// (POST /admin/clusters)
	CreateCluster(c *gin.Context)
	// Update cluster environment
	// (PUT /admin/clusters/{cluster_id}/environment)
	UpdateClusterEnvironment(c *gin.Context, clusterId string)
	// List registered namespaces
	// (GET /admin/namespaces)
	ListNamespaces(c *gin.Context, params ListNamespacesParams)
	// Register a namespace
	// (POST /admin/namespaces)
	CreateNamespace(c *gin.Context)
	// Delete namespace
	// (DELETE /admin/namespaces/{namespace_id})
	DeleteNamespace(c *gin.Context, namespaceId NamespaceID, params DeleteNamespaceParams)
	// Get namespace by ID
	// (GET /admin/namespaces/{namespace_id})
	GetNamespace(c *gin.Context, namespaceId NamespaceID)
	// Update namespace
	// (PUT /admin/namespaces/{namespace_id})
	UpdateNamespace(c *gin.Context, namespaceId NamespaceID)
	// List approval tickets
	// (GET /approvals)
	ListApprovals(c *gin.Context, params ListApprovalsParams)
	// Approve a request
	// (POST /approvals/{ticket_id}/approve)
	ApproveTicket(c *gin.Context, ticketId TicketID)
	// Reject a request
	// (POST /approvals/{ticket_id}/reject)
	RejectTicket(c *gin.Context, ticketId TicketID)
	// List audit logs
	// (GET /audit-logs)
	ListAuditLogs(c *gin.Context, params ListAuditLogsParams)
	// Change current user password
	// (POST /auth/change-password)
	ChangePassword(c *gin.Context)
	// Login with credentials
	// (POST /auth/login)
	Login(c *gin.Context)
	// Get current user info
	// (GET /auth/me)
	GetCurrentUser(c *gin.Context)
	// Liveness probe
	// (GET /health/live)
	GetLiveness(c *gin.Context)
	// Readiness probe
	// (GET /health/ready)
	GetReadiness(c *gin.Context)
	// List instance sizes
	// (GET /instance-sizes)
	ListInstanceSizes(c *gin.Context)
	// List notifications for current user
	// (GET /notifications)
	ListNotifications(c *gin.Context, params ListNotificationsParams)
	// Mark all notifications as read
	// (POST /notifications/read-all)
	MarkAllNotificationsRead(c *gin.Context)
	// Get unread notification count
	// (GET /notifications/unread-count)
	GetUnreadCount(c *gin.Context)
	// Mark notification as read
	// (POST /notifications/{notification_id}/read)
	MarkNotificationRead(c *gin.Context, notificationId NotificationID)
	// List systems
	// (GET /systems)
	ListSystems(c *gin.Context, params ListSystemsParams)
	// Create system (self-service, no approval)
	// (POST /systems)
	CreateSystem(c *gin.Context)
	// Delete system
	// (DELETE /systems/{system_id})
	DeleteSystem(c *gin.Context, systemId SystemID, params DeleteSystemParams)
	// Get system by ID
	// (GET /systems/{system_id})
	GetSystem(c *gin.Context, systemId SystemID)
	// List services in a system
	// (GET /systems/{system_id}/services)
	ListServices(c *gin.Context, systemId SystemID, params ListServicesParams)
	// Create service (self-service, no approval)
	// (POST /systems/{system_id}/services)
	CreateService(c *gin.Context, systemId SystemID)
	// Delete service
	// (DELETE /systems/{system_id}/services/{service_id})
	DeleteService(c *gin.Context, systemId SystemID, serviceId ServiceID, params DeleteServiceParams)
	// Get service details
	// (GET /systems/{system_id}/services/{service_id})
	GetService(c *gin.Context, systemId SystemID, serviceId ServiceID)
	// List templates
	// (GET /templates)
	ListTemplates(c *gin.Context, params ListTemplatesParams)
	// List VMs
	// (GET /vms)
	ListVMs(c *gin.Context, params ListVMsParams)
	// Submit VM creation request (requires approval)
	// (POST /vms/request)
	CreateVMRequest(c *gin.Context)
	// Delete VM
	// (DELETE /vms/{vm_id})
	DeleteVM(c *gin.Context, vmId VMID, params DeleteVMParams)
	// Get VM by ID
	// (GET /vms/{vm_id})
	GetVM(c *gin.Context, vmId VMID)
	// Restart VM
	// (POST /vms/{vm_id}/restart)
	RestartVM(c *gin.Context, vmId VMID)
	// Start VM
	// (POST /vms/{vm_id}/start)
	StartVM(c *gin.Context, vmId VMID)
	// Stop VM
	// (POST /vms/{vm_id}/stop)
	StopVM(c *gin.Context, vmId VMID)
}

// ServerInterfaceWrapper converts contexts to parameters.
type ServerInterfaceWrapper struct {
	Handler            ServerInterface
	HandlerMiddlewares []MiddlewareFunc
	ErrorHandler       func(*gin.Context, error, int)
}

type MiddlewareFunc func(c *gin.Context)

// ListClusters operation middleware
func (siw *ServerInterfaceWrapper) ListClusters(c *gin.Context) {

	var err error

	c.Set(BearerAuthScopes, []string{})

	// Parameter object where we will unmarshal all parameters from the context
	var params ListClustersParams

	// ------------- Optional query parameter "page" -------------

	err = runtime.BindQueryParameter("form", true, false, "page", c.Request.URL.Query(), &params.Page)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "per_page" -------------

	err = runtime.BindQueryParameter("form", true, false, "per_page", c.Request.URL.Query(), &params.PerPage)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter per_page: %w", err), http.StatusBadRequest)
		return
	}

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.ListClusters(c, params)
}

// CreateCluster operation middleware
func (siw *ServerInterfaceWrapper) CreateCluster(c *gin.Context) {

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.CreateCluster(c)
}

// UpdateClusterEnvironment operation middleware
func (siw *ServerInterfaceWrapper) UpdateClusterEnvironment(c *gin.Context) {

	var err error

	// ------------- Path parameter "cluster_id" -------------
	var clusterId string

	err = runtime.BindStyledParameterWithOptions("simple", "cluster_id", c.Param("cluster_id"), &clusterId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter cluster_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.UpdateClusterEnvironment(c, clusterId)
}

// ListNamespaces operation middleware
func (siw *ServerInterfaceWrapper) ListNamespaces(c *gin.Context) {

	var err error

	c.Set(BearerAuthScopes, []string{})

	// Parameter object where we will unmarshal all parameters from the context
	var params ListNamespacesParams

	// ------------- Optional query parameter "page" -------------

	err = runtime.BindQueryParameter("form", true, false, "page", c.Request.URL.Query(), &params.Page)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "per_page" -------------

	err = runtime.BindQueryParameter("form", true, false, "per_page", c.Request.URL.Query(), &params.PerPage)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter per_page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "environment" -------------

	err = runtime.BindQueryParameter("form", true, false, "environment", c.Request.URL.Query(), &params.Environment)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter environment: %w", err), http.StatusBadRequest)
		return
	}

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.ListNamespaces(c, params)
}

// CreateNamespace operation middleware
func (siw *ServerInterfaceWrapper) CreateNamespace(c *gin.Context) {

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.CreateNamespace(c)
}

// DeleteNamespace operation middleware
func (siw *ServerInterfaceWrapper) DeleteNamespace(c *gin.Context) {

	var err error

	// ------------- Path parameter "namespace_id" -------------
	var namespaceId NamespaceID

	err = runtime.BindStyledParameterWithOptions("simple", "namespace_id", c.Param("namespace_id"), &namespaceId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter namespace_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	// Parameter object where we will unmarshal all parameters from the context
	var params DeleteNamespaceParams

	// ------------- Optional query parameter "confirm_name" -------------

	err = runtime.BindQueryParameter("form", true, false, "confirm_name", c.Request.URL.Query(), &params.ConfirmName)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter confirm_name: %w", err), http.StatusBadRequest)
		return
	}

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.DeleteNamespace(c, namespaceId, params)
}

// GetNamespace operation middleware
func (siw *ServerInterfaceWrapper) GetNamespace(c *gin.Context) {

	var err error

	// ------------- Path parameter "namespace_id" -------------
	var namespaceId NamespaceID

	err = runtime.BindStyledParameterWithOptions("simple", "namespace_id", c.Param("namespace_id"), &namespaceId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter namespace_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.GetNamespace(c, namespaceId)
}

// UpdateNamespace operation middleware
func (siw *ServerInterfaceWrapper) UpdateNamespace(c *gin.Context) {

	var err error

	// ------------- Path parameter "namespace_id" -------------
	var namespaceId NamespaceID

	err = runtime.BindStyledParameterWithOptions("simple", "namespace_id", c.Param("namespace_id"), &namespaceId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter namespace_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.UpdateNamespace(c, namespaceId)
}

// ListApprovals operation middleware
func (siw *ServerInterfaceWrapper) ListApprovals(c *gin.Context) {

	var err error

	c.Set(BearerAuthScopes, []string{})

	// Parameter object where we will unmarshal all parameters from the context
	var params ListApprovalsParams

	// ------------- Optional query parameter "page" -------------

	err = runtime.BindQueryParameter("form", true, false, "page", c.Request.URL.Query(), &params.Page)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "per_page" -------------

	err = runtime.BindQueryParameter("form", true, false, "per_page", c.Request.URL.Query(), &params.PerPage)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter per_page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "status" -------------

	err = runtime.BindQueryParameter("form", true, false, "status", c.Request.URL.Query(), &params.Status)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter status: %w", err), http.StatusBadRequest)
		return
	}

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.ListApprovals(c, params)
}

// ApproveTicket operation middleware
func (siw *ServerInterfaceWrapper) ApproveTicket(c *gin.Context) {

	var err error

	// ------------- Path parameter "ticket_id" -------------
	var ticketId TicketID

	err = runtime.BindStyledParameterWithOptions("simple", "ticket_id", c.Param("ticket_id"), &ticketId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter ticket_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.ApproveTicket(c, ticketId)
}

// RejectTicket operation middleware
func (siw *ServerInterfaceWrapper) RejectTicket(c *gin.Context) {

	var err error

	// ------------- Path parameter "ticket_id" -------------
	var ticketId TicketID

	err = runtime.BindStyledParameterWithOptions("simple", "ticket_id", c.Param("ticket_id"), &ticketId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter ticket_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.RejectTicket(c, ticketId)
}

// ListAuditLogs operation middleware
func (siw *ServerInterfaceWrapper) ListAuditLogs(c *gin.Context) {

	var err error

	c.Set(BearerAuthScopes, []string{})

	// Parameter object where we will unmarshal all parameters from the context
	var params ListAuditLogsParams

	// ------------- Optional query parameter "page" -------------

	err = runtime.BindQueryParameter("form", true, false, "page", c.Request.URL.Query(), &params.Page)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "per_page" -------------

	err = runtime.BindQueryParameter("form", true, false, "per_page", c.Request.URL.Query(), &params.PerPage)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter per_page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "action" -------------

	err = runtime.BindQueryParameter("form", true, false, "action", c.Request.URL.Query(), &params.Action)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter action: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "actor" -------------

	err = runtime.BindQueryParameter("form", true, false, "actor", c.Request.URL.Query(), &params.Actor)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter actor: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "resource_type" -------------

	err = runtime.BindQueryParameter("form", true, false, "resource_type", c.Request.URL.Query(), &params.ResourceType)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter resource_type: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "resource_id" -------------

	err = runtime.BindQueryParameter("form", true, false, "resource_id", c.Request.URL.Query(), &params.ResourceId)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter resource_id: %w", err), http.StatusBadRequest)
		return
	}

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.ListAuditLogs(c, params)
}

// ChangePassword operation middleware
func (siw *ServerInterfaceWrapper) ChangePassword(c *gin.Context) {

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.ChangePassword(c)
}

// Login operation middleware
func (siw *ServerInterfaceWrapper) Login(c *gin.Context) {

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.Login(c)
}

// GetCurrentUser operation middleware
func (siw *ServerInterfaceWrapper) GetCurrentUser(c *gin.Context) {

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.GetCurrentUser(c)
}

// GetLiveness operation middleware
func (siw *ServerInterfaceWrapper) GetLiveness(c *gin.Context) {

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.GetLiveness(c)
}

// GetReadiness operation middleware
func (siw *ServerInterfaceWrapper) GetReadiness(c *gin.Context) {

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.GetReadiness(c)
}

// ListInstanceSizes operation middleware
func (siw *ServerInterfaceWrapper) ListInstanceSizes(c *gin.Context) {

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.ListInstanceSizes(c)
}

// ListNotifications operation middleware
func (siw *ServerInterfaceWrapper) ListNotifications(c *gin.Context) {

	var err error

	c.Set(BearerAuthScopes, []string{})

	// Parameter object where we will unmarshal all parameters from the context
	var params ListNotificationsParams

	// ------------- Optional query parameter "page" -------------

	err = runtime.BindQueryParameter("form", true, false, "page", c.Request.URL.Query(), &params.Page)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "per_page" -------------

	err = runtime.BindQueryParameter("form", true, false, "per_page", c.Request.URL.Query(), &params.PerPage)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter per_page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "unread_only" -------------

	err = runtime.BindQueryParameter("form", true, false, "unread_only", c.Request.URL.Query(), &params.UnreadOnly)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter unread_only: %w", err), http.StatusBadRequest)
		return
	}

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.ListNotifications(c, params)
}

// MarkAllNotificationsRead operation middleware
func (siw *ServerInterfaceWrapper) MarkAllNotificationsRead(c *gin.Context) {

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.MarkAllNotificationsRead(c)
}

// GetUnreadCount operation middleware
func (siw *ServerInterfaceWrapper) GetUnreadCount(c *gin.Context) {

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.GetUnreadCount(c)
}

// MarkNotificationRead operation middleware
func (siw *ServerInterfaceWrapper) MarkNotificationRead(c *gin.Context) {

	var err error

	// ------------- Path parameter "notification_id" -------------
	var notificationId NotificationID

	err = runtime.BindStyledParameterWithOptions("simple", "notification_id", c.Param("notification_id"), &notificationId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter notification_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.MarkNotificationRead(c, notificationId)
}

// ListSystems operation middleware
func (siw *ServerInterfaceWrapper) ListSystems(c *gin.Context) {

	var err error

	c.Set(BearerAuthScopes, []string{})

	// Parameter object where we will unmarshal all parameters from the context
	var params ListSystemsParams

	// ------------- Optional query parameter "page" -------------

	err = runtime.BindQueryParameter("form", true, false, "page", c.Request.URL.Query(), &params.Page)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "per_page" -------------

	err = runtime.BindQueryParameter("form", true, false, "per_page", c.Request.URL.Query(), &params.PerPage)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter per_page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "sort_by" -------------

	err = runtime.BindQueryParameter("form", true, false, "sort_by", c.Request.URL.Query(), &params.SortBy)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter sort_by: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "sort_order" -------------

	err = runtime.BindQueryParameter("form", true, false, "sort_order", c.Request.URL.Query(), &params.SortOrder)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter sort_order: %w", err), http.StatusBadRequest)
		return
	}

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.ListSystems(c, params)
}

// CreateSystem operation middleware
func (siw *ServerInterfaceWrapper) CreateSystem(c *gin.Context) {

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.CreateSystem(c)
}

// DeleteSystem operation middleware
func (siw *ServerInterfaceWrapper) DeleteSystem(c *gin.Context) {

	var err error

	// ------------- Path parameter "system_id" -------------
	var systemId SystemID

	err = runtime.BindStyledParameterWithOptions("simple", "system_id", c.Param("system_id"), &systemId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter system_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	// Parameter object where we will unmarshal all parameters from the context
	var params DeleteSystemParams

	// ------------- Optional query parameter "confirm_name" -------------

	err = runtime.BindQueryParameter("form", true, false, "confirm_name", c.Request.URL.Query(), &params.ConfirmName)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter confirm_name: %w", err), http.StatusBadRequest)
		return
	}

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.DeleteSystem(c, systemId, params)
}

// GetSystem operation middleware
func (siw *ServerInterfaceWrapper) GetSystem(c *gin.Context) {

	var err error

	// ------------- Path parameter "system_id" -------------
	var systemId SystemID

	err = runtime.BindStyledParameterWithOptions("simple", "system_id", c.Param("system_id"), &systemId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter system_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.GetSystem(c, systemId)
}

// ListServices operation middleware
func (siw *ServerInterfaceWrapper) ListServices(c *gin.Context) {

	var err error

	// ------------- Path parameter "system_id" -------------
	var systemId SystemID

	err = runtime.BindStyledParameterWithOptions("simple", "system_id", c.Param("system_id"), &systemId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter system_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	// Parameter object where we will unmarshal all parameters from the context
	var params ListServicesParams

	// ------------- Optional query parameter "page" -------------

	err = runtime.BindQueryParameter("form", true, false, "page", c.Request.URL.Query(), &params.Page)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "per_page" -------------

	err = runtime.BindQueryParameter("form", true, false, "per_page", c.Request.URL.Query(), &params.PerPage)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter per_page: %w", err), http.StatusBadRequest)
		return
	}

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.ListServices(c, systemId, params)
}

// CreateService operation middleware
func (siw *ServerInterfaceWrapper) CreateService(c *gin.Context) {

	var err error

	// ------------- Path parameter "system_id" -------------
	var systemId SystemID

	err = runtime.BindStyledParameterWithOptions("simple", "system_id", c.Param("system_id"), &systemId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter system_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.CreateService(c, systemId)
}

// DeleteService operation middleware
func (siw *ServerInterfaceWrapper) DeleteService(c *gin.Context) {

	var err error

	// ------------- Path parameter "system_id" -------------
	var systemId SystemID

	err = runtime.BindStyledParameterWithOptions("simple", "system_id", c.Param("system_id"), &systemId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter system_id: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Path parameter "service_id" -------------
	var serviceId ServiceID

	err = runtime.BindStyledParameterWithOptions("simple", "service_id", c.Param("service_id"), &serviceId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter service_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	// Parameter object where we will unmarshal all parameters from the context
	var params DeleteServiceParams

	// ------------- Optional query parameter "confirm" -------------

	err = runtime.BindQueryParameter("form", true, false, "confirm", c.Request.URL.Query(), &params.Confirm)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter confirm: %w", err), http.StatusBadRequest)
		return
	}

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.DeleteService(c, systemId, serviceId, params)
}

// GetService operation middleware
func (siw *ServerInterfaceWrapper) GetService(c *gin.Context) {

	var err error

	// ------------- Path parameter "system_id" -------------
	var systemId SystemID

	err = runtime.BindStyledParameterWithOptions("simple", "system_id", c.Param("system_id"), &systemId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter system_id: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Path parameter "service_id" -------------
	var serviceId ServiceID

	err = runtime.BindStyledParameterWithOptions("simple", "service_id", c.Param("service_id"), &serviceId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter service_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.GetService(c, systemId, serviceId)
}

// ListTemplates operation middleware
func (siw *ServerInterfaceWrapper) ListTemplates(c *gin.Context) {

	var err error

	c.Set(BearerAuthScopes, []string{})

	// Parameter object where we will unmarshal all parameters from the context
	var params ListTemplatesParams

	// ------------- Optional query parameter "page" -------------

	err = runtime.BindQueryParameter("form", true, false, "page", c.Request.URL.Query(), &params.Page)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "per_page" -------------

	err = runtime.BindQueryParameter("form", true, false, "per_page", c.Request.URL.Query(), &params.PerPage)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter per_page: %w", err), http.StatusBadRequest)
		return
	}

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.ListTemplates(c, params)
}

// ListVMs operation middleware
func (siw *ServerInterfaceWrapper) ListVMs(c *gin.Context) {

	var err error

	c.Set(BearerAuthScopes, []string{})

	// Parameter object where we will unmarshal all parameters from the context
	var params ListVMsParams

	// ------------- Optional query parameter "page" -------------

	err = runtime.BindQueryParameter("form", true, false, "page", c.Request.URL.Query(), &params.Page)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "per_page" -------------

	err = runtime.BindQueryParameter("form", true, false, "per_page", c.Request.URL.Query(), &params.PerPage)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter per_page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "sort_by" -------------

	err = runtime.BindQueryParameter("form", true, false, "sort_by", c.Request.URL.Query(), &params.SortBy)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter sort_by: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "sort_order" -------------

	err = runtime.BindQueryParameter("form", true, false, "sort_order", c.Request.URL.Query(), &params.SortOrder)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter sort_order: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "namespace" -------------

	err = runtime.BindQueryParameter("form", true, false, "namespace", c.Request.URL.Query(), &params.Namespace)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter namespace: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "status" -------------

	err = runtime.BindQueryParameter("form", true, false, "status", c.Request.URL.Query(), &params.Status)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter status: %w", err), http.StatusBadRequest)
		return
	}

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.ListVMs(c, params)
}

// CreateVMRequest operation middleware
func (siw *ServerInterfaceWrapper) CreateVMRequest(c *gin.Context) {

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.CreateVMRequest(c)
}

// DeleteVM operation middleware
func (siw *ServerInterfaceWrapper) DeleteVM(c *gin.Context) {

	var err error

	// ------------- Path parameter "vm_id" -------------
	var vmId VMID

	err = runtime.BindStyledParameterWithOptions("simple", "vm_id", c.Param("vm_id"), &vmId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter vm_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	// Parameter object where we will unmarshal all parameters from the context
	var params DeleteVMParams

	// ------------- Optional query parameter "confirm" -------------

	err = runtime.BindQueryParameter("form", true, false, "confirm", c.Request.URL.Query(), &params.Confirm)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter confirm: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "confirm_name" -------------

	err = runtime.BindQueryParameter("form", true, false, "confirm_name", c.Request.URL.Query(), &params.ConfirmName)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter confirm_name: %w", err), http.StatusBadRequest)
		return
	}

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.DeleteVM(c, vmId, params)
}

// GetVM operation middleware
func (siw *ServerInterfaceWrapper) GetVM(c *gin.Context) {

	var err error

	// ------------- Path parameter "vm_id" -------------
	var vmId VMID

	err = runtime.BindStyledParameterWithOptions("simple", "vm_id", c.Param("vm_id"), &vmId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter vm_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.GetVM(c, vmId)
}

// RestartVM operation middleware
func (siw *ServerInterfaceWrapper) RestartVM(c *gin.Context) {

	var err error

	// ------------- Path parameter "vm_id" -------------
	var vmId VMID

	err = runtime.BindStyledParameterWithOptions("simple", "vm_id", c.Param("vm_id"), &vmId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter vm_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.RestartVM(c, vmId)
}

// StartVM operation middleware
func (siw *ServerInterfaceWrapper) StartVM(c *gin.Context) {

	var err error

	// ------------- Path parameter "vm_id" -------------
	var vmId VMID

	err = runtime.BindStyledParameterWithOptions("simple", "vm_id", c.Param("vm_id"), &vmId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter vm_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.StartVM(c, vmId)
}

// StopVM operation middleware
func (siw *ServerInterfaceWrapper) StopVM(c *gin.Context) {

	var err error

	// ------------- Path parameter "vm_id" -------------
	var vmId VMID

	err = runtime.BindStyledParameterWithOptions("simple", "vm_id", c.Param("vm_id"), &vmId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter vm_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.StopVM(c, vmId)
}

// GinServerOptions provides options for the Gin server.
type GinServerOptions struct {
	BaseURL      string
	Middlewares  []MiddlewareFunc
	ErrorHandler func(*gin.Context, error, int)
}

// RegisterHandlers creates http.Handler with routing matching OpenAPI spec.
func RegisterHandlers(router gin.IRouter, si ServerInterface) {
	RegisterHandlersWithOptions(router, si, GinServerOptions{})
}

// RegisterHandlersWithOptions creates http.Handler with additional options
func RegisterHandlersWithOptions(router gin.IRouter, si ServerInterface, options GinServerOptions) {
	errorHandler := options.ErrorHandler
	if errorHandler == nil {
		errorHandler = func(c *gin.Context, err error, statusCode int) {
			c.JSON(statusCode, gin.H{"msg": err.Error()})
		}
	}

	wrapper := ServerInterfaceWrapper{
		Handler:            si,
		HandlerMiddlewares: options.Middlewares,
		ErrorHandler:       errorHandler,
	}

	router.GET(options.BaseURL+"/admin/clusters", wrapper.ListClusters)
	router.POST(options.BaseURL+"/admin/clusters", wrapper.CreateCluster)
	router.PUT(options.BaseURL+"/admin/clusters/:cluster_id/environment", wrapper.UpdateClusterEnvironment)
	router.GET(options.BaseURL+"/admin/namespaces", wrapper.ListNamespaces)
	router.POST(options.BaseURL+"/admin/namespaces", wrapper.CreateNamespace)
	router.DELETE(options.BaseURL+"/admin/namespaces/:namespace_id", wrapper.DeleteNamespace)
	router.GET(options.BaseURL+"/admin/namespaces/:namespace_id", wrapper.GetNamespace)
	router.PUT(options.BaseURL+"/admin/namespaces/:namespace_id", wrapper.UpdateNamespace)
	router.GET(options.BaseURL+"/approvals", wrapper.ListApprovals)
	router.POST(options.BaseURL+"/approvals/:ticket_id/approve", wrapper.ApproveTicket)
	router.POST(options.BaseURL+"/approvals/:ticket_id/reject", wrapper.RejectTicket)
	router.GET(options.BaseURL+"/audit-logs", wrapper.ListAuditLogs)
	router.POST(options.BaseURL+"/auth/change-password", wrapper.ChangePassword)
	router.POST(options.BaseURL+"/auth/login", wrapper.Login)
	router.GET(options.BaseURL+"/auth/me", wrapper.GetCurrentUser)
	router.GET(options.BaseURL+"/health/live", wrapper.GetLiveness)
	router.GET(options.BaseURL+"/health/ready", wrapper.GetReadiness)
	router.GET(options.BaseURL+"/instance-sizes", wrapper.ListInstanceSizes)
	router.GET(options.BaseURL+"/notifications", wrapper.ListNotifications)
	router.POST(options.BaseURL+"/notifications/read-all", wrapper.MarkAllNotificationsRead)
	router.GET(options.BaseURL+"/notifications/unread-count", wrapper.GetUnreadCount)
	router.POST(options.BaseURL+"/notifications/:notification_id/read", wrapper.MarkNotificationRead)
	router.GET(options.BaseURL+"/systems", wrapper.ListSystems)
	router.POST(options.BaseURL+"/systems", wrapper.CreateSystem)
	router.DELETE(options.BaseURL+"/systems/:system_id", wrapper.DeleteSystem)
	router.GET(options.BaseURL+"/systems/:system_id", wrapper.GetSystem)
	router.GET(options.BaseURL+"/systems/:system_id/services", wrapper.ListServices)
	router.POST(options.BaseURL+"/systems/:system_id/services", wrapper.CreateService)
	router.DELETE(options.BaseURL+"/systems/:system_id/services/:service_id", wrapper.DeleteService)
	router.GET(options.BaseURL+"/systems/:system_id/services/:service_id", wrapper.GetService)
	router.GET(options.BaseURL+"/templates", wrapper.ListTemplates)
	router.GET(options.BaseURL+"/vms", wrapper.ListVMs)
	router.POST(options.BaseURL+"/vms/request", wrapper.CreateVMRequest)
	router.DELETE(options.BaseURL+"/vms/:vm_id", wrapper.DeleteVM)
	router.GET(options.BaseURL+"/vms/:vm_id", wrapper.GetVM)
	router.POST(options.BaseURL+"/vms/:vm_id/restart", wrapper.RestartVM)
	router.POST(options.BaseURL+"/vms/:vm_id/start", wrapper.StartVM)
	router.POST(options.BaseURL+"/vms/:vm_id/stop", wrapper.StopVM)
}

// Base64 encoded, gzipped, json marshaled Swagger object
var swaggerSpec = []string{

	"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",
	"2HdRJ7037s9Y8uD5/vn/AwAA//9HVbi/yHQAAA==",
}

// GetSwagger returns the content of the embedded swagger specification file
// or error if failed to decode
func decodeSpec() ([]byte, error) {
	zipped, err := base64.StdEncoding.DecodeString(strings.Join(swaggerSpec, ""))
	if err != nil {
		return nil, fmt.Errorf("error base64 decoding spec: %w", err)
	}
	zr, err := gzip.NewReader(bytes.NewReader(zipped))
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}
	var buf bytes.Buffer
	_, err = buf.ReadFrom(zr)
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}

	return buf.Bytes(), nil
}

var rawSpec = decodeSpecCached()

// a naive cached of a decoded swagger spec
func decodeSpecCached() func() ([]byte, error) {
	data, err := decodeSpec()
	return func() ([]byte, error) {
		return data, err
	}
}

// Constructs a synthetic filesystem for resolving external references when loading openapi specifications.
func PathToRawSpec(pathToFile string) map[string]func() ([]byte, error) {
	res := make(map[string]func() ([]byte, error))
	if len(pathToFile) > 0 {
		res[pathToFile] = rawSpec
	}

	return res
}

// GetSwagger returns the Swagger specification corresponding to the generated code
// in this file. The external references of Swagger specification are resolved.
// The logic of resolving external references is tightly connected to "import-mapping" feature.
// Externally referenced files must be embedded in the corresponding golang packages.
// Urls can be supported but this task was out of the scope.
func GetSwagger() (swagger *openapi3.T, err error) {
	resolvePath := PathToRawSpec("")

	loader := openapi3.NewLoader()
	loader.IsExternalRefsAllowed = true
	loader.ReadFromURIFunc = func(loader *openapi3.Loader, url *url.URL) ([]byte, error) {
		pathToFile := url.String()
		pathToFile = path.Clean(pathToFile)
		getSpec, ok := resolvePath[pathToFile]
		if !ok {
			err1 := fmt.Errorf("path not found: %s", pathToFile)
			return nil, err1
		}
		return getSpec()
	}
	var specData []byte
	specData, err = rawSpec()
	if err != nil {
		return
	}
	swagger, err = loader.LoadFromData(specData)
	if err != nil {
		return
	}
	return
}
