// Package generated provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.5.1 DO NOT EDIT.
package generated

import (
	"bytes"
	"compress/gzip"
	"encoding/base64"
	"fmt"
	"net/http"
	"net/url"
	"path"
	"strings"
	"time"

	"github.com/getkin/kin-openapi/openapi3"
	"github.com/gin-gonic/gin"
	"github.com/oapi-codegen/runtime"
	openapi_types "github.com/oapi-codegen/runtime/types"
)

const (
	BearerAuthScopes = "BearerAuth.Scopes"
)

// Defines values for ApprovalTicketOperationType.
const (
	CREATE ApprovalTicketOperationType = "CREATE"
	DELETE ApprovalTicketOperationType = "DELETE"
)

// Defines values for ApprovalTicketStatus.
const (
	ApprovalTicketStatusAPPROVED  ApprovalTicketStatus = "APPROVED"
	ApprovalTicketStatusCANCELLED ApprovalTicketStatus = "CANCELLED"
	ApprovalTicketStatusEXECUTING ApprovalTicketStatus = "EXECUTING"
	ApprovalTicketStatusFAILED    ApprovalTicketStatus = "FAILED"
	ApprovalTicketStatusPENDING   ApprovalTicketStatus = "PENDING"
	ApprovalTicketStatusREJECTED  ApprovalTicketStatus = "REJECTED"
	ApprovalTicketStatusSUCCESS   ApprovalTicketStatus = "SUCCESS"
)

// Defines values for ApprovalTicketResponseStatus.
const (
	ApprovalTicketResponseStatusPENDING ApprovalTicketResponseStatus = "PENDING"
)

// Defines values for ClusterEnvironment.
const (
	ClusterEnvironmentProd ClusterEnvironment = "prod"
	ClusterEnvironmentTest ClusterEnvironment = "test"
)

// Defines values for ClusterStatus.
const (
	ClusterStatusHEALTHY     ClusterStatus = "HEALTHY"
	ClusterStatusUNHEALTHY   ClusterStatus = "UNHEALTHY"
	ClusterStatusUNKNOWN     ClusterStatus = "UNKNOWN"
	ClusterStatusUNREACHABLE ClusterStatus = "UNREACHABLE"
)

// Defines values for ClusterCreateRequestEnvironment.
const (
	ClusterCreateRequestEnvironmentProd ClusterCreateRequestEnvironment = "prod"
	ClusterCreateRequestEnvironmentTest ClusterCreateRequestEnvironment = "test"
)

// Defines values for ClusterEnvironmentUpdateEnvironment.
const (
	ClusterEnvironmentUpdateEnvironmentProd ClusterEnvironmentUpdateEnvironment = "prod"
	ClusterEnvironmentUpdateEnvironmentTest ClusterEnvironmentUpdateEnvironment = "test"
)

// Defines values for DeleteVMResponseStatus.
const (
	DeleteVMResponseStatusPENDING DeleteVMResponseStatus = "PENDING"
)

// Defines values for HealthStatus.
const (
	HealthStatusDegraded HealthStatus = "degraded"
	HealthStatusError    HealthStatus = "error"
	HealthStatusOk       HealthStatus = "ok"
)

// Defines values for NamespaceCreateRequestEnvironment.
const (
	NamespaceCreateRequestEnvironmentProd NamespaceCreateRequestEnvironment = "prod"
	NamespaceCreateRequestEnvironmentTest NamespaceCreateRequestEnvironment = "test"
)

// Defines values for NamespaceRegistryEnvironment.
const (
	NamespaceRegistryEnvironmentProd NamespaceRegistryEnvironment = "prod"
	NamespaceRegistryEnvironmentTest NamespaceRegistryEnvironment = "test"
)

// Defines values for NotificationType.
const (
	APPROVALCOMPLETED NotificationType = "APPROVAL_COMPLETED"
	APPROVALPENDING   NotificationType = "APPROVAL_PENDING"
	APPROVALREJECTED  NotificationType = "APPROVAL_REJECTED"
	VMSTATUSCHANGE    NotificationType = "VM_STATUS_CHANGE"
)

// Defines values for VMStatus.
const (
	VMStatusCREATING  VMStatus = "CREATING"
	VMStatusDELETING  VMStatus = "DELETING"
	VMStatusFAILED    VMStatus = "FAILED"
	VMStatusMIGRATING VMStatus = "MIGRATING"
	VMStatusPAUSED    VMStatus = "PAUSED"
	VMStatusPENDING   VMStatus = "PENDING"
	VMStatusRUNNING   VMStatus = "RUNNING"
	VMStatusSTOPPED   VMStatus = "STOPPED"
	VMStatusSTOPPING  VMStatus = "STOPPING"
	VMStatusUNKNOWN   VMStatus = "UNKNOWN"
)

// Defines values for SortOrder.
const (
	SortOrderAsc  SortOrder = "asc"
	SortOrderDesc SortOrder = "desc"
)

// Defines values for ListNamespacesParamsEnvironment.
const (
	ListNamespacesParamsEnvironmentProd ListNamespacesParamsEnvironment = "prod"
	ListNamespacesParamsEnvironmentTest ListNamespacesParamsEnvironment = "test"
)

// Defines values for ListApprovalsParamsStatus.
const (
	ListApprovalsParamsStatusAPPROVED  ListApprovalsParamsStatus = "APPROVED"
	ListApprovalsParamsStatusCANCELLED ListApprovalsParamsStatus = "CANCELLED"
	ListApprovalsParamsStatusEXECUTING ListApprovalsParamsStatus = "EXECUTING"
	ListApprovalsParamsStatusFAILED    ListApprovalsParamsStatus = "FAILED"
	ListApprovalsParamsStatusPENDING   ListApprovalsParamsStatus = "PENDING"
	ListApprovalsParamsStatusREJECTED  ListApprovalsParamsStatus = "REJECTED"
	ListApprovalsParamsStatusSUCCESS   ListApprovalsParamsStatus = "SUCCESS"
)

// Defines values for ListSystemsParamsSortOrder.
const (
	ListSystemsParamsSortOrderAsc  ListSystemsParamsSortOrder = "asc"
	ListSystemsParamsSortOrderDesc ListSystemsParamsSortOrder = "desc"
)

// Defines values for ListVMsParamsSortOrder.
const (
	Asc  ListVMsParamsSortOrder = "asc"
	Desc ListVMsParamsSortOrder = "desc"
)

// ApprovalDecisionRequest defines model for ApprovalDecisionRequest.
type ApprovalDecisionRequest struct {
	Comment string `json:"comment,omitempty,omitzero"`

	// SelectedClusterId Admin selects target cluster (ADR-0017)
	SelectedClusterId    string `json:"selected_cluster_id,omitempty,omitzero"`
	SelectedStorageClass string `json:"selected_storage_class,omitempty,omitzero"`
}

// ApprovalTicket defines model for ApprovalTicket.
type ApprovalTicket struct {
	Approver  string    `json:"approver,omitempty,omitzero"`
	CreatedAt time.Time `json:"created_at,omitempty,omitzero"`
	EventId   string    `json:"event_id"`
	Id        string    `json:"id"`

	// OperationType Type of operation this ticket represents (ADR-0015)
	OperationType ApprovalTicketOperationType `json:"operation_type,omitempty,omitzero"`
	Reason        string                      `json:"reason,omitempty,omitzero"`
	RejectReason  string                      `json:"reject_reason,omitempty,omitzero"`
	Requester     string                      `json:"requester"`
	Status        ApprovalTicketStatus        `json:"status"`

	// TargetVmId For DELETE tickets, the VM being deleted
	TargetVmId string `json:"target_vm_id,omitempty,omitzero"`

	// TargetVmName For DELETE tickets, the VM name (for display)
	TargetVmName string `json:"target_vm_name,omitempty,omitzero"`
}

// ApprovalTicketOperationType Type of operation this ticket represents (ADR-0015)
type ApprovalTicketOperationType string

// ApprovalTicketStatus defines model for ApprovalTicket.Status.
type ApprovalTicketStatus string

// ApprovalTicketList defines model for ApprovalTicketList.
type ApprovalTicketList struct {
	Items      []ApprovalTicket `json:"items,omitempty,omitzero"`
	Pagination Pagination       `json:"pagination,omitempty,omitzero"`
}

// ApprovalTicketResponse defines model for ApprovalTicketResponse.
type ApprovalTicketResponse struct {
	Status   ApprovalTicketResponseStatus `json:"status"`
	TicketId string                       `json:"ticket_id"`
}

// ApprovalTicketResponseStatus defines model for ApprovalTicketResponse.Status.
type ApprovalTicketResponseStatus string

// AuditLog defines model for AuditLog.
type AuditLog struct {
	Action       string                 `json:"action"`
	Actor        string                 `json:"actor"`
	CreatedAt    time.Time              `json:"created_at"`
	Details      map[string]interface{} `json:"details,omitempty,omitzero"`
	Id           string                 `json:"id"`
	ResourceId   string                 `json:"resource_id"`
	ResourceType string                 `json:"resource_type"`
}

// AuditLogList defines model for AuditLogList.
type AuditLogList struct {
	Items      []AuditLog `json:"items,omitempty,omitzero"`
	Pagination Pagination `json:"pagination,omitempty,omitzero"`
}

// ChangePasswordRequest defines model for ChangePasswordRequest.
type ChangePasswordRequest struct {
	NewPassword string `json:"new_password"`
	OldPassword string `json:"old_password"`
}

// Cluster defines model for Cluster.
type Cluster struct {
	ApiServerUrl        string    `json:"api_server_url"`
	CreatedAt           time.Time `json:"created_at,omitempty,omitzero"`
	DefaultStorageClass string    `json:"default_storage_class,omitempty,omitzero"`
	DisplayName         string    `json:"display_name,omitempty,omitzero"`
	Enabled             bool      `json:"enabled,omitempty,omitzero"`

	// Environment Cluster environment type (ADR-0015 §1, §15)
	Environment     ClusterEnvironment `json:"environment,omitempty,omitzero"`
	Id              string             `json:"id"`
	KubevirtVersion string             `json:"kubevirt_version,omitempty,omitzero"`
	Name            string             `json:"name"`
	Status          ClusterStatus      `json:"status"`

	// StorageClasses Auto-detected StorageClass list (ADR-0015 §8)
	StorageClasses []string `json:"storage_classes,omitempty,omitzero"`
}

// ClusterEnvironment Cluster environment type (ADR-0015 §1, §15)
type ClusterEnvironment string

// ClusterStatus defines model for Cluster.Status.
type ClusterStatus string

// ClusterCreateRequest defines model for ClusterCreateRequest.
type ClusterCreateRequest struct {
	DisplayName string                          `json:"display_name,omitempty,omitzero"`
	Environment ClusterCreateRequestEnvironment `json:"environment,omitempty,omitzero"`

	// Kubeconfig Base64-encoded kubeconfig (stored encrypted, ADR-0012)
	Kubeconfig []byte `json:"kubeconfig"`
	Name       string `json:"name"`
}

// ClusterCreateRequestEnvironment defines model for ClusterCreateRequest.Environment.
type ClusterCreateRequestEnvironment string

// ClusterEnvironmentUpdate defines model for ClusterEnvironmentUpdate.
type ClusterEnvironmentUpdate struct {
	Environment ClusterEnvironmentUpdateEnvironment `json:"environment"`
}

// ClusterEnvironmentUpdateEnvironment defines model for ClusterEnvironmentUpdate.Environment.
type ClusterEnvironmentUpdateEnvironment string

// ClusterList defines model for ClusterList.
type ClusterList struct {
	Items      []Cluster  `json:"items,omitempty,omitzero"`
	Pagination Pagination `json:"pagination,omitempty,omitzero"`
}

// DeleteVMResponse defines model for DeleteVMResponse.
type DeleteVMResponse struct {
	EventId  string                 `json:"event_id"`
	Status   DeleteVMResponseStatus `json:"status"`
	TicketId string                 `json:"ticket_id"`
}

// DeleteVMResponseStatus defines model for DeleteVMResponse.Status.
type DeleteVMResponseStatus string

// Error defines model for Error.
type Error struct {
	// Code Machine-readable error code (frontend handles i18n)
	Code string `json:"code"`

	// Message English log message (not for UI display)
	Message string                 `json:"message,omitempty,omitzero"`
	Params  map[string]interface{} `json:"params,omitempty,omitzero"`
}

// Health defines model for Health.
type Health struct {
	Checks  map[string]string `json:"checks,omitempty,omitzero"`
	Status  HealthStatus      `json:"status"`
	Version string            `json:"version,omitempty,omitzero"`
}

// HealthStatus defines model for Health.Status.
type HealthStatus string

// InstanceSize defines model for InstanceSize.
type InstanceSize struct {
	CpuCores          int                    `json:"cpu_cores"`
	DedicatedCpu      bool                   `json:"dedicated_cpu,omitempty,omitzero"`
	Description       string                 `json:"description,omitempty,omitzero"`
	DiskGb            int                    `json:"disk_gb,omitempty,omitzero"`
	DisplayName       string                 `json:"display_name,omitempty,omitzero"`
	Enabled           bool                   `json:"enabled,omitempty,omitzero"`
	HugepagesSize     string                 `json:"hugepages_size,omitempty,omitzero"`
	Id                string                 `json:"id"`
	MemoryMb          int                    `json:"memory_mb"`
	Name              string                 `json:"name"`
	RequiresGpu       bool                   `json:"requires_gpu,omitempty,omitzero"`
	RequiresHugepages bool                   `json:"requires_hugepages,omitempty,omitzero"`
	RequiresSriov     bool                   `json:"requires_sriov,omitempty,omitzero"`
	SpecOverrides     map[string]interface{} `json:"spec_overrides,omitempty,omitzero"`
}

// InstanceSizeList defines model for InstanceSizeList.
type InstanceSizeList struct {
	Items []InstanceSize `json:"items,omitempty,omitzero"`
}

// LoginRequest defines model for LoginRequest.
type LoginRequest struct {
	Password string `json:"password"`
	Username string `json:"username"`
}

// LoginResponse defines model for LoginResponse.
type LoginResponse struct {
	ExpiresAt           time.Time `json:"expires_at,omitempty,omitzero"`
	ForcePasswordChange bool      `json:"force_password_change,omitempty,omitzero"`
	Token               string    `json:"token"`
}

// NamespaceCreateRequest defines model for NamespaceCreateRequest.
type NamespaceCreateRequest struct {
	Description string                            `json:"description,omitempty,omitzero"`
	Environment NamespaceCreateRequestEnvironment `json:"environment"`

	// Name Must follow RFC 1035 naming (ADR-0019)
	Name string `json:"name"`
}

// NamespaceCreateRequestEnvironment defines model for NamespaceCreateRequest.Environment.
type NamespaceCreateRequestEnvironment string

// NamespaceRegistry defines model for NamespaceRegistry.
type NamespaceRegistry struct {
	CreatedAt   time.Time                    `json:"created_at,omitempty,omitzero"`
	CreatedBy   string                       `json:"created_by,omitempty,omitzero"`
	Description string                       `json:"description,omitempty,omitzero"`
	Enabled     bool                         `json:"enabled,omitempty,omitzero"`
	Environment NamespaceRegistryEnvironment `json:"environment"`
	Id          string                       `json:"id"`

	// Name Globally unique namespace name (RFC 1035)
	Name      string    `json:"name"`
	UpdatedAt time.Time `json:"updated_at,omitempty,omitzero"`
}

// NamespaceRegistryEnvironment defines model for NamespaceRegistry.Environment.
type NamespaceRegistryEnvironment string

// NamespaceRegistryList defines model for NamespaceRegistryList.
type NamespaceRegistryList struct {
	Items      []NamespaceRegistry `json:"items,omitempty,omitzero"`
	Pagination Pagination          `json:"pagination,omitempty,omitzero"`
}

// NamespaceUpdateRequest defines model for NamespaceUpdateRequest.
type NamespaceUpdateRequest struct {
	Description string `json:"description,omitempty,omitzero"`
	Enabled     bool   `json:"enabled,omitempty,omitzero"`
}

// Notification defines model for Notification.
type Notification struct {
	CreatedAt    time.Time        `json:"created_at"`
	Id           string           `json:"id"`
	Message      string           `json:"message"`
	Read         bool             `json:"read"`
	ReadAt       time.Time        `json:"read_at,omitempty,omitzero"`
	ResourceId   string           `json:"resource_id,omitempty,omitzero"`
	ResourceType string           `json:"resource_type,omitempty,omitzero"`
	Title        string           `json:"title"`
	Type         NotificationType `json:"type"`
}

// NotificationType defines model for Notification.Type.
type NotificationType string

// NotificationList defines model for NotificationList.
type NotificationList struct {
	Items      []Notification `json:"items,omitempty,omitzero"`
	Pagination Pagination     `json:"pagination,omitempty,omitzero"`
}

// Pagination defines model for Pagination.
type Pagination struct {
	Page       int `json:"page,omitempty,omitzero"`
	PerPage    int `json:"per_page,omitempty,omitzero"`
	Total      int `json:"total,omitempty,omitzero"`
	TotalPages int `json:"total_pages,omitempty,omitzero"`
}

// RejectDecisionRequest defines model for RejectDecisionRequest.
type RejectDecisionRequest struct {
	Reason string `json:"reason"`
}

// Service defines model for Service.
type Service struct {
	CreatedAt         time.Time `json:"created_at"`
	Description       string    `json:"description,omitempty,omitzero"`
	Id                string    `json:"id"`
	Name              string    `json:"name"`
	NextInstanceIndex int       `json:"next_instance_index,omitempty,omitzero"`
	SystemId          string    `json:"system_id"`
}

// ServiceCreateRequest defines model for ServiceCreateRequest.
type ServiceCreateRequest struct {
	Description string `json:"description,omitempty,omitzero"`
	Name        string `json:"name"`
}

// ServiceList defines model for ServiceList.
type ServiceList struct {
	Items      []Service  `json:"items,omitempty,omitzero"`
	Pagination Pagination `json:"pagination,omitempty,omitzero"`
}

// System defines model for System.
type System struct {
	CreatedAt   time.Time `json:"created_at"`
	CreatedBy   string    `json:"created_by"`
	Description string    `json:"description,omitempty,omitzero"`
	Id          string    `json:"id"`
	Name        string    `json:"name"`
	TenantId    string    `json:"tenant_id,omitempty,omitzero"`
	UpdatedAt   time.Time `json:"updated_at,omitempty,omitzero"`
}

// SystemCreateRequest defines model for SystemCreateRequest.
type SystemCreateRequest struct {
	Description string `json:"description,omitempty,omitzero"`

	// Name RFC 1035 compliant name (ADR-0019)
	Name string `json:"name"`
}

// SystemList defines model for SystemList.
type SystemList struct {
	Items      []System   `json:"items,omitempty,omitzero"`
	Pagination Pagination `json:"pagination,omitempty,omitzero"`
}

// Template defines model for Template.
type Template struct {
	Description string `json:"description,omitempty,omitzero"`
	DisplayName string `json:"display_name,omitempty,omitzero"`
	Enabled     bool   `json:"enabled,omitempty,omitzero"`
	Id          string `json:"id"`
	Name        string `json:"name"`
	OsFamily    string `json:"os_family,omitempty,omitzero"`
	OsVersion   string `json:"os_version,omitempty,omitzero"`
	Version     int    `json:"version"`
}

// TemplateList defines model for TemplateList.
type TemplateList struct {
	Items      []Template `json:"items,omitempty,omitzero"`
	Pagination Pagination `json:"pagination,omitempty,omitzero"`
}

// UnreadCount defines model for UnreadCount.
type UnreadCount struct {
	Count int `json:"count"`
}

// UserInfo defines model for UserInfo.
type UserInfo struct {
	DisplayName string   `json:"display_name,omitempty,omitzero"`
	Email       string   `json:"email,omitempty,omitzero"`
	Id          string   `json:"id"`
	Roles       []string `json:"roles,omitempty,omitzero"`
	Username    string   `json:"username"`
}

// VM defines model for VM.
type VM struct {
	ClusterId string    `json:"cluster_id,omitempty,omitzero"`
	CreatedAt time.Time `json:"created_at,omitempty,omitzero"`
	CreatedBy string    `json:"created_by,omitempty,omitzero"`
	Hostname  string    `json:"hostname,omitempty,omitzero"`
	Id        string    `json:"id"`
	Instance  string    `json:"instance,omitempty,omitzero"`
	Name      string    `json:"name"`
	Namespace string    `json:"namespace"`
	ServiceId string    `json:"service_id,omitempty,omitzero"`
	Status    VMStatus  `json:"status"`
	TicketId  string    `json:"ticket_id,omitempty,omitzero"`
}

// VMStatus defines model for VM.Status.
type VMStatus string

// VMCreateRequest defines model for VMCreateRequest.
type VMCreateRequest struct {
	InstanceSizeId openapi_types.UUID `json:"instance_size_id"`

	// Namespace Target K8s namespace (immutable after submission, ADR-0017)
	Namespace  string             `json:"namespace"`
	Reason     string             `json:"reason"`
	ServiceId  openapi_types.UUID `json:"service_id"`
	TemplateId openapi_types.UUID `json:"template_id"`
}

// VMList defines model for VMList.
type VMList struct {
	Items      []VM       `json:"items,omitempty,omitzero"`
	Pagination Pagination `json:"pagination,omitempty,omitzero"`
}

// Confirm defines model for Confirm.
type Confirm = bool

// ConfirmName defines model for ConfirmName.
type ConfirmName = string

// NamespaceID defines model for NamespaceID.
type NamespaceID = string

// NotificationID defines model for NotificationID.
type NotificationID = string

// Page defines model for Page.
type Page = int

// PerPage defines model for PerPage.
type PerPage = int

// ServiceID defines model for ServiceID.
type ServiceID = string

// SortBy defines model for SortBy.
type SortBy = string

// SortOrder defines model for SortOrder.
type SortOrder string

// SystemID defines model for SystemID.
type SystemID = string

// TicketID defines model for TicketID.
type TicketID = string

// VMID defines model for VMID.
type VMID = string

// BadRequest defines model for BadRequest.
type BadRequest = Error

// Conflict defines model for Conflict.
type Conflict = Error

// NotFound defines model for NotFound.
type NotFound = Error

// Unauthorized defines model for Unauthorized.
type Unauthorized = Error

// ListClustersParams defines parameters for ListClusters.
type ListClustersParams struct {
	// Page Page number (1-indexed)
	Page Page `form:"page,omitempty" json:"page,omitempty,omitzero"`

	// PerPage Items per page
	PerPage PerPage `form:"per_page,omitempty" json:"per_page,omitempty,omitzero"`
}

// ListNamespacesParams defines parameters for ListNamespaces.
type ListNamespacesParams struct {
	// Page Page number (1-indexed)
	Page Page `form:"page,omitempty" json:"page,omitempty,omitzero"`

	// PerPage Items per page
	PerPage PerPage `form:"per_page,omitempty" json:"per_page,omitempty,omitzero"`

	// Environment Filter by environment type
	Environment ListNamespacesParamsEnvironment `form:"environment,omitempty" json:"environment,omitempty,omitzero"`
}

// ListNamespacesParamsEnvironment defines parameters for ListNamespaces.
type ListNamespacesParamsEnvironment string

// DeleteNamespaceParams defines parameters for DeleteNamespace.
type DeleteNamespaceParams struct {
	// ConfirmName Type resource name to confirm deletion (ADR-0015 §13 addendum).
	// Must match the resource name exactly.
	ConfirmName ConfirmName `form:"confirm_name,omitempty" json:"confirm_name,omitempty,omitzero"`
}

// ListApprovalsParams defines parameters for ListApprovals.
type ListApprovalsParams struct {
	// Page Page number (1-indexed)
	Page Page `form:"page,omitempty" json:"page,omitempty,omitzero"`

	// PerPage Items per page
	PerPage PerPage                   `form:"per_page,omitempty" json:"per_page,omitempty,omitzero"`
	Status  ListApprovalsParamsStatus `form:"status,omitempty" json:"status,omitempty,omitzero"`
}

// ListApprovalsParamsStatus defines parameters for ListApprovals.
type ListApprovalsParamsStatus string

// ListAuditLogsParams defines parameters for ListAuditLogs.
type ListAuditLogsParams struct {
	// Page Page number (1-indexed)
	Page Page `form:"page,omitempty" json:"page,omitempty,omitzero"`

	// PerPage Items per page
	PerPage      PerPage `form:"per_page,omitempty" json:"per_page,omitempty,omitzero"`
	Action       string  `form:"action,omitempty" json:"action,omitempty,omitzero"`
	Actor        string  `form:"actor,omitempty" json:"actor,omitempty,omitzero"`
	ResourceType string  `form:"resource_type,omitempty" json:"resource_type,omitempty,omitzero"`
	ResourceId   string  `form:"resource_id,omitempty" json:"resource_id,omitempty,omitzero"`
}

// ListNotificationsParams defines parameters for ListNotifications.
type ListNotificationsParams struct {
	// Page Page number (1-indexed)
	Page Page `form:"page,omitempty" json:"page,omitempty,omitzero"`

	// PerPage Items per page
	PerPage PerPage `form:"per_page,omitempty" json:"per_page,omitempty,omitzero"`

	// UnreadOnly Filter to unread notifications only
	UnreadOnly bool `form:"unread_only,omitempty" json:"unread_only,omitempty,omitzero"`
}

// ListSystemsParams defines parameters for ListSystems.
type ListSystemsParams struct {
	// Page Page number (1-indexed)
	Page Page `form:"page,omitempty" json:"page,omitempty,omitzero"`

	// PerPage Items per page
	PerPage PerPage `form:"per_page,omitempty" json:"per_page,omitempty,omitzero"`

	// SortBy Field to sort by
	SortBy SortBy `form:"sort_by,omitempty" json:"sort_by,omitempty,omitzero"`

	// SortOrder Sort direction
	SortOrder ListSystemsParamsSortOrder `form:"sort_order,omitempty" json:"sort_order,omitempty,omitzero"`
}

// ListSystemsParamsSortOrder defines parameters for ListSystems.
type ListSystemsParamsSortOrder string

// DeleteSystemParams defines parameters for DeleteSystem.
type DeleteSystemParams struct {
	// ConfirmName Type resource name to confirm deletion (ADR-0015 §13 addendum).
	// Must match the resource name exactly.
	ConfirmName ConfirmName `form:"confirm_name,omitempty" json:"confirm_name,omitempty,omitzero"`
}

// ListServicesParams defines parameters for ListServices.
type ListServicesParams struct {
	// Page Page number (1-indexed)
	Page Page `form:"page,omitempty" json:"page,omitempty,omitzero"`

	// PerPage Items per page
	PerPage PerPage `form:"per_page,omitempty" json:"per_page,omitempty,omitzero"`
}

// DeleteServiceParams defines parameters for DeleteService.
type DeleteServiceParams struct {
	// Confirm Simple deletion confirmation flag (ADR-0015 §13)
	Confirm Confirm `form:"confirm,omitempty" json:"confirm,omitempty,omitzero"`
}

// ListTemplatesParams defines parameters for ListTemplates.
type ListTemplatesParams struct {
	// Page Page number (1-indexed)
	Page Page `form:"page,omitempty" json:"page,omitempty,omitzero"`

	// PerPage Items per page
	PerPage PerPage `form:"per_page,omitempty" json:"per_page,omitempty,omitzero"`
}

// ListVMsParams defines parameters for ListVMs.
type ListVMsParams struct {
	// Page Page number (1-indexed)
	Page Page `form:"page,omitempty" json:"page,omitempty,omitzero"`

	// PerPage Items per page
	PerPage PerPage `form:"per_page,omitempty" json:"per_page,omitempty,omitzero"`

	// SortBy Field to sort by
	SortBy SortBy `form:"sort_by,omitempty" json:"sort_by,omitempty,omitzero"`

	// SortOrder Sort direction
	SortOrder ListVMsParamsSortOrder `form:"sort_order,omitempty" json:"sort_order,omitempty,omitzero"`
	Namespace string                 `form:"namespace,omitempty" json:"namespace,omitempty,omitzero"`
	Status    string                 `form:"status,omitempty" json:"status,omitempty,omitzero"`
}

// ListVMsParamsSortOrder defines parameters for ListVMs.
type ListVMsParamsSortOrder string

// DeleteVMParams defines parameters for DeleteVM.
type DeleteVMParams struct {
	// Confirm Simple deletion confirmation flag (ADR-0015 §13)
	Confirm Confirm `form:"confirm,omitempty" json:"confirm,omitempty,omitzero"`

	// ConfirmName Type resource name to confirm deletion (ADR-0015 §13 addendum).
	// Must match the resource name exactly.
	ConfirmName ConfirmName `form:"confirm_name,omitempty" json:"confirm_name,omitempty,omitzero"`
}

// CreateClusterJSONRequestBody defines body for CreateCluster for application/json ContentType.
type CreateClusterJSONRequestBody = ClusterCreateRequest

// UpdateClusterEnvironmentJSONRequestBody defines body for UpdateClusterEnvironment for application/json ContentType.
type UpdateClusterEnvironmentJSONRequestBody = ClusterEnvironmentUpdate

// CreateNamespaceJSONRequestBody defines body for CreateNamespace for application/json ContentType.
type CreateNamespaceJSONRequestBody = NamespaceCreateRequest

// UpdateNamespaceJSONRequestBody defines body for UpdateNamespace for application/json ContentType.
type UpdateNamespaceJSONRequestBody = NamespaceUpdateRequest

// ApproveTicketJSONRequestBody defines body for ApproveTicket for application/json ContentType.
type ApproveTicketJSONRequestBody = ApprovalDecisionRequest

// RejectTicketJSONRequestBody defines body for RejectTicket for application/json ContentType.
type RejectTicketJSONRequestBody = RejectDecisionRequest

// ChangePasswordJSONRequestBody defines body for ChangePassword for application/json ContentType.
type ChangePasswordJSONRequestBody = ChangePasswordRequest

// LoginJSONRequestBody defines body for Login for application/json ContentType.
type LoginJSONRequestBody = LoginRequest

// CreateSystemJSONRequestBody defines body for CreateSystem for application/json ContentType.
type CreateSystemJSONRequestBody = SystemCreateRequest

// CreateServiceJSONRequestBody defines body for CreateService for application/json ContentType.
type CreateServiceJSONRequestBody = ServiceCreateRequest

// CreateVMRequestJSONRequestBody defines body for CreateVMRequest for application/json ContentType.
type CreateVMRequestJSONRequestBody = VMCreateRequest

// ServerInterface represents all server handlers.
type ServerInterface interface {
	// List clusters
	// (GET /admin/clusters)
	ListClusters(c *gin.Context, params ListClustersParams)
	// Register a cluster
	// (POST /admin/clusters)
	CreateCluster(c *gin.Context)
	// Update cluster environment
	// (PUT /admin/clusters/{cluster_id}/environment)
	UpdateClusterEnvironment(c *gin.Context, clusterId string)
	// List registered namespaces
	// (GET /admin/namespaces)
	ListNamespaces(c *gin.Context, params ListNamespacesParams)
	// Register a namespace
	// (POST /admin/namespaces)
	CreateNamespace(c *gin.Context)
	// Delete namespace
	// (DELETE /admin/namespaces/{namespace_id})
	DeleteNamespace(c *gin.Context, namespaceId NamespaceID, params DeleteNamespaceParams)
	// Get namespace by ID
	// (GET /admin/namespaces/{namespace_id})
	GetNamespace(c *gin.Context, namespaceId NamespaceID)
	// Update namespace
	// (PUT /admin/namespaces/{namespace_id})
	UpdateNamespace(c *gin.Context, namespaceId NamespaceID)
	// List approval tickets
	// (GET /approvals)
	ListApprovals(c *gin.Context, params ListApprovalsParams)
	// Approve a request
	// (POST /approvals/{ticket_id}/approve)
	ApproveTicket(c *gin.Context, ticketId TicketID)
	// Reject a request
	// (POST /approvals/{ticket_id}/reject)
	RejectTicket(c *gin.Context, ticketId TicketID)
	// List audit logs
	// (GET /audit-logs)
	ListAuditLogs(c *gin.Context, params ListAuditLogsParams)
	// Change current user password
	// (POST /auth/change-password)
	ChangePassword(c *gin.Context)
	// Login with credentials
	// (POST /auth/login)
	Login(c *gin.Context)
	// Get current user info
	// (GET /auth/me)
	GetCurrentUser(c *gin.Context)
	// Liveness probe
	// (GET /health/live)
	GetLiveness(c *gin.Context)
	// Readiness probe
	// (GET /health/ready)
	GetReadiness(c *gin.Context)
	// List instance sizes
	// (GET /instance-sizes)
	ListInstanceSizes(c *gin.Context)
	// List notifications for current user
	// (GET /notifications)
	ListNotifications(c *gin.Context, params ListNotificationsParams)
	// Mark all notifications as read
	// (POST /notifications/mark-all-read)
	MarkAllNotificationsRead(c *gin.Context)
	// Get unread notification count
	// (GET /notifications/unread-count)
	GetUnreadCount(c *gin.Context)
	// Mark notification as read
	// (PATCH /notifications/{notification_id}/read)
	MarkNotificationRead(c *gin.Context, notificationId NotificationID)
	// List systems
	// (GET /systems)
	ListSystems(c *gin.Context, params ListSystemsParams)
	// Create system (self-service, no approval)
	// (POST /systems)
	CreateSystem(c *gin.Context)
	// Delete system
	// (DELETE /systems/{system_id})
	DeleteSystem(c *gin.Context, systemId SystemID, params DeleteSystemParams)
	// Get system by ID
	// (GET /systems/{system_id})
	GetSystem(c *gin.Context, systemId SystemID)
	// List services in a system
	// (GET /systems/{system_id}/services)
	ListServices(c *gin.Context, systemId SystemID, params ListServicesParams)
	// Create service (self-service, no approval)
	// (POST /systems/{system_id}/services)
	CreateService(c *gin.Context, systemId SystemID)
	// Delete service
	// (DELETE /systems/{system_id}/services/{service_id})
	DeleteService(c *gin.Context, systemId SystemID, serviceId ServiceID, params DeleteServiceParams)
	// Get service details
	// (GET /systems/{system_id}/services/{service_id})
	GetService(c *gin.Context, systemId SystemID, serviceId ServiceID)
	// List templates
	// (GET /templates)
	ListTemplates(c *gin.Context, params ListTemplatesParams)
	// List VMs
	// (GET /vms)
	ListVMs(c *gin.Context, params ListVMsParams)
	// Submit VM creation request (requires approval)
	// (POST /vms/request)
	CreateVMRequest(c *gin.Context)
	// Delete VM
	// (DELETE /vms/{vm_id})
	DeleteVM(c *gin.Context, vmId VMID, params DeleteVMParams)
	// Get VM by ID
	// (GET /vms/{vm_id})
	GetVM(c *gin.Context, vmId VMID)
	// Restart VM
	// (POST /vms/{vm_id}/restart)
	RestartVM(c *gin.Context, vmId VMID)
	// Start VM
	// (POST /vms/{vm_id}/start)
	StartVM(c *gin.Context, vmId VMID)
	// Stop VM
	// (POST /vms/{vm_id}/stop)
	StopVM(c *gin.Context, vmId VMID)
}

// ServerInterfaceWrapper converts contexts to parameters.
type ServerInterfaceWrapper struct {
	Handler            ServerInterface
	HandlerMiddlewares []MiddlewareFunc
	ErrorHandler       func(*gin.Context, error, int)
}

type MiddlewareFunc func(c *gin.Context)

// ListClusters operation middleware
func (siw *ServerInterfaceWrapper) ListClusters(c *gin.Context) {

	var err error

	c.Set(BearerAuthScopes, []string{})

	// Parameter object where we will unmarshal all parameters from the context
	var params ListClustersParams

	// ------------- Optional query parameter "page" -------------

	err = runtime.BindQueryParameter("form", true, false, "page", c.Request.URL.Query(), &params.Page)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "per_page" -------------

	err = runtime.BindQueryParameter("form", true, false, "per_page", c.Request.URL.Query(), &params.PerPage)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter per_page: %w", err), http.StatusBadRequest)
		return
	}

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.ListClusters(c, params)
}

// CreateCluster operation middleware
func (siw *ServerInterfaceWrapper) CreateCluster(c *gin.Context) {

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.CreateCluster(c)
}

// UpdateClusterEnvironment operation middleware
func (siw *ServerInterfaceWrapper) UpdateClusterEnvironment(c *gin.Context) {

	var err error

	// ------------- Path parameter "cluster_id" -------------
	var clusterId string

	err = runtime.BindStyledParameterWithOptions("simple", "cluster_id", c.Param("cluster_id"), &clusterId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter cluster_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.UpdateClusterEnvironment(c, clusterId)
}

// ListNamespaces operation middleware
func (siw *ServerInterfaceWrapper) ListNamespaces(c *gin.Context) {

	var err error

	c.Set(BearerAuthScopes, []string{})

	// Parameter object where we will unmarshal all parameters from the context
	var params ListNamespacesParams

	// ------------- Optional query parameter "page" -------------

	err = runtime.BindQueryParameter("form", true, false, "page", c.Request.URL.Query(), &params.Page)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "per_page" -------------

	err = runtime.BindQueryParameter("form", true, false, "per_page", c.Request.URL.Query(), &params.PerPage)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter per_page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "environment" -------------

	err = runtime.BindQueryParameter("form", true, false, "environment", c.Request.URL.Query(), &params.Environment)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter environment: %w", err), http.StatusBadRequest)
		return
	}

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.ListNamespaces(c, params)
}

// CreateNamespace operation middleware
func (siw *ServerInterfaceWrapper) CreateNamespace(c *gin.Context) {

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.CreateNamespace(c)
}

// DeleteNamespace operation middleware
func (siw *ServerInterfaceWrapper) DeleteNamespace(c *gin.Context) {

	var err error

	// ------------- Path parameter "namespace_id" -------------
	var namespaceId NamespaceID

	err = runtime.BindStyledParameterWithOptions("simple", "namespace_id", c.Param("namespace_id"), &namespaceId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter namespace_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	// Parameter object where we will unmarshal all parameters from the context
	var params DeleteNamespaceParams

	// ------------- Optional query parameter "confirm_name" -------------

	err = runtime.BindQueryParameter("form", true, false, "confirm_name", c.Request.URL.Query(), &params.ConfirmName)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter confirm_name: %w", err), http.StatusBadRequest)
		return
	}

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.DeleteNamespace(c, namespaceId, params)
}

// GetNamespace operation middleware
func (siw *ServerInterfaceWrapper) GetNamespace(c *gin.Context) {

	var err error

	// ------------- Path parameter "namespace_id" -------------
	var namespaceId NamespaceID

	err = runtime.BindStyledParameterWithOptions("simple", "namespace_id", c.Param("namespace_id"), &namespaceId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter namespace_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.GetNamespace(c, namespaceId)
}

// UpdateNamespace operation middleware
func (siw *ServerInterfaceWrapper) UpdateNamespace(c *gin.Context) {

	var err error

	// ------------- Path parameter "namespace_id" -------------
	var namespaceId NamespaceID

	err = runtime.BindStyledParameterWithOptions("simple", "namespace_id", c.Param("namespace_id"), &namespaceId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter namespace_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.UpdateNamespace(c, namespaceId)
}

// ListApprovals operation middleware
func (siw *ServerInterfaceWrapper) ListApprovals(c *gin.Context) {

	var err error

	c.Set(BearerAuthScopes, []string{})

	// Parameter object where we will unmarshal all parameters from the context
	var params ListApprovalsParams

	// ------------- Optional query parameter "page" -------------

	err = runtime.BindQueryParameter("form", true, false, "page", c.Request.URL.Query(), &params.Page)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "per_page" -------------

	err = runtime.BindQueryParameter("form", true, false, "per_page", c.Request.URL.Query(), &params.PerPage)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter per_page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "status" -------------

	err = runtime.BindQueryParameter("form", true, false, "status", c.Request.URL.Query(), &params.Status)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter status: %w", err), http.StatusBadRequest)
		return
	}

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.ListApprovals(c, params)
}

// ApproveTicket operation middleware
func (siw *ServerInterfaceWrapper) ApproveTicket(c *gin.Context) {

	var err error

	// ------------- Path parameter "ticket_id" -------------
	var ticketId TicketID

	err = runtime.BindStyledParameterWithOptions("simple", "ticket_id", c.Param("ticket_id"), &ticketId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter ticket_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.ApproveTicket(c, ticketId)
}

// RejectTicket operation middleware
func (siw *ServerInterfaceWrapper) RejectTicket(c *gin.Context) {

	var err error

	// ------------- Path parameter "ticket_id" -------------
	var ticketId TicketID

	err = runtime.BindStyledParameterWithOptions("simple", "ticket_id", c.Param("ticket_id"), &ticketId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter ticket_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.RejectTicket(c, ticketId)
}

// ListAuditLogs operation middleware
func (siw *ServerInterfaceWrapper) ListAuditLogs(c *gin.Context) {

	var err error

	c.Set(BearerAuthScopes, []string{})

	// Parameter object where we will unmarshal all parameters from the context
	var params ListAuditLogsParams

	// ------------- Optional query parameter "page" -------------

	err = runtime.BindQueryParameter("form", true, false, "page", c.Request.URL.Query(), &params.Page)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "per_page" -------------

	err = runtime.BindQueryParameter("form", true, false, "per_page", c.Request.URL.Query(), &params.PerPage)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter per_page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "action" -------------

	err = runtime.BindQueryParameter("form", true, false, "action", c.Request.URL.Query(), &params.Action)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter action: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "actor" -------------

	err = runtime.BindQueryParameter("form", true, false, "actor", c.Request.URL.Query(), &params.Actor)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter actor: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "resource_type" -------------

	err = runtime.BindQueryParameter("form", true, false, "resource_type", c.Request.URL.Query(), &params.ResourceType)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter resource_type: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "resource_id" -------------

	err = runtime.BindQueryParameter("form", true, false, "resource_id", c.Request.URL.Query(), &params.ResourceId)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter resource_id: %w", err), http.StatusBadRequest)
		return
	}

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.ListAuditLogs(c, params)
}

// ChangePassword operation middleware
func (siw *ServerInterfaceWrapper) ChangePassword(c *gin.Context) {

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.ChangePassword(c)
}

// Login operation middleware
func (siw *ServerInterfaceWrapper) Login(c *gin.Context) {

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.Login(c)
}

// GetCurrentUser operation middleware
func (siw *ServerInterfaceWrapper) GetCurrentUser(c *gin.Context) {

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.GetCurrentUser(c)
}

// GetLiveness operation middleware
func (siw *ServerInterfaceWrapper) GetLiveness(c *gin.Context) {

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.GetLiveness(c)
}

// GetReadiness operation middleware
func (siw *ServerInterfaceWrapper) GetReadiness(c *gin.Context) {

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.GetReadiness(c)
}

// ListInstanceSizes operation middleware
func (siw *ServerInterfaceWrapper) ListInstanceSizes(c *gin.Context) {

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.ListInstanceSizes(c)
}

// ListNotifications operation middleware
func (siw *ServerInterfaceWrapper) ListNotifications(c *gin.Context) {

	var err error

	c.Set(BearerAuthScopes, []string{})

	// Parameter object where we will unmarshal all parameters from the context
	var params ListNotificationsParams

	// ------------- Optional query parameter "page" -------------

	err = runtime.BindQueryParameter("form", true, false, "page", c.Request.URL.Query(), &params.Page)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "per_page" -------------

	err = runtime.BindQueryParameter("form", true, false, "per_page", c.Request.URL.Query(), &params.PerPage)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter per_page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "unread_only" -------------

	err = runtime.BindQueryParameter("form", true, false, "unread_only", c.Request.URL.Query(), &params.UnreadOnly)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter unread_only: %w", err), http.StatusBadRequest)
		return
	}

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.ListNotifications(c, params)
}

// MarkAllNotificationsRead operation middleware
func (siw *ServerInterfaceWrapper) MarkAllNotificationsRead(c *gin.Context) {

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.MarkAllNotificationsRead(c)
}

// GetUnreadCount operation middleware
func (siw *ServerInterfaceWrapper) GetUnreadCount(c *gin.Context) {

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.GetUnreadCount(c)
}

// MarkNotificationRead operation middleware
func (siw *ServerInterfaceWrapper) MarkNotificationRead(c *gin.Context) {

	var err error

	// ------------- Path parameter "notification_id" -------------
	var notificationId NotificationID

	err = runtime.BindStyledParameterWithOptions("simple", "notification_id", c.Param("notification_id"), &notificationId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter notification_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.MarkNotificationRead(c, notificationId)
}

// ListSystems operation middleware
func (siw *ServerInterfaceWrapper) ListSystems(c *gin.Context) {

	var err error

	c.Set(BearerAuthScopes, []string{})

	// Parameter object where we will unmarshal all parameters from the context
	var params ListSystemsParams

	// ------------- Optional query parameter "page" -------------

	err = runtime.BindQueryParameter("form", true, false, "page", c.Request.URL.Query(), &params.Page)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "per_page" -------------

	err = runtime.BindQueryParameter("form", true, false, "per_page", c.Request.URL.Query(), &params.PerPage)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter per_page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "sort_by" -------------

	err = runtime.BindQueryParameter("form", true, false, "sort_by", c.Request.URL.Query(), &params.SortBy)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter sort_by: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "sort_order" -------------

	err = runtime.BindQueryParameter("form", true, false, "sort_order", c.Request.URL.Query(), &params.SortOrder)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter sort_order: %w", err), http.StatusBadRequest)
		return
	}

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.ListSystems(c, params)
}

// CreateSystem operation middleware
func (siw *ServerInterfaceWrapper) CreateSystem(c *gin.Context) {

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.CreateSystem(c)
}

// DeleteSystem operation middleware
func (siw *ServerInterfaceWrapper) DeleteSystem(c *gin.Context) {

	var err error

	// ------------- Path parameter "system_id" -------------
	var systemId SystemID

	err = runtime.BindStyledParameterWithOptions("simple", "system_id", c.Param("system_id"), &systemId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter system_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	// Parameter object where we will unmarshal all parameters from the context
	var params DeleteSystemParams

	// ------------- Optional query parameter "confirm_name" -------------

	err = runtime.BindQueryParameter("form", true, false, "confirm_name", c.Request.URL.Query(), &params.ConfirmName)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter confirm_name: %w", err), http.StatusBadRequest)
		return
	}

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.DeleteSystem(c, systemId, params)
}

// GetSystem operation middleware
func (siw *ServerInterfaceWrapper) GetSystem(c *gin.Context) {

	var err error

	// ------------- Path parameter "system_id" -------------
	var systemId SystemID

	err = runtime.BindStyledParameterWithOptions("simple", "system_id", c.Param("system_id"), &systemId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter system_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.GetSystem(c, systemId)
}

// ListServices operation middleware
func (siw *ServerInterfaceWrapper) ListServices(c *gin.Context) {

	var err error

	// ------------- Path parameter "system_id" -------------
	var systemId SystemID

	err = runtime.BindStyledParameterWithOptions("simple", "system_id", c.Param("system_id"), &systemId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter system_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	// Parameter object where we will unmarshal all parameters from the context
	var params ListServicesParams

	// ------------- Optional query parameter "page" -------------

	err = runtime.BindQueryParameter("form", true, false, "page", c.Request.URL.Query(), &params.Page)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "per_page" -------------

	err = runtime.BindQueryParameter("form", true, false, "per_page", c.Request.URL.Query(), &params.PerPage)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter per_page: %w", err), http.StatusBadRequest)
		return
	}

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.ListServices(c, systemId, params)
}

// CreateService operation middleware
func (siw *ServerInterfaceWrapper) CreateService(c *gin.Context) {

	var err error

	// ------------- Path parameter "system_id" -------------
	var systemId SystemID

	err = runtime.BindStyledParameterWithOptions("simple", "system_id", c.Param("system_id"), &systemId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter system_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.CreateService(c, systemId)
}

// DeleteService operation middleware
func (siw *ServerInterfaceWrapper) DeleteService(c *gin.Context) {

	var err error

	// ------------- Path parameter "system_id" -------------
	var systemId SystemID

	err = runtime.BindStyledParameterWithOptions("simple", "system_id", c.Param("system_id"), &systemId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter system_id: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Path parameter "service_id" -------------
	var serviceId ServiceID

	err = runtime.BindStyledParameterWithOptions("simple", "service_id", c.Param("service_id"), &serviceId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter service_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	// Parameter object where we will unmarshal all parameters from the context
	var params DeleteServiceParams

	// ------------- Optional query parameter "confirm" -------------

	err = runtime.BindQueryParameter("form", true, false, "confirm", c.Request.URL.Query(), &params.Confirm)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter confirm: %w", err), http.StatusBadRequest)
		return
	}

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.DeleteService(c, systemId, serviceId, params)
}

// GetService operation middleware
func (siw *ServerInterfaceWrapper) GetService(c *gin.Context) {

	var err error

	// ------------- Path parameter "system_id" -------------
	var systemId SystemID

	err = runtime.BindStyledParameterWithOptions("simple", "system_id", c.Param("system_id"), &systemId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter system_id: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Path parameter "service_id" -------------
	var serviceId ServiceID

	err = runtime.BindStyledParameterWithOptions("simple", "service_id", c.Param("service_id"), &serviceId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter service_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.GetService(c, systemId, serviceId)
}

// ListTemplates operation middleware
func (siw *ServerInterfaceWrapper) ListTemplates(c *gin.Context) {

	var err error

	c.Set(BearerAuthScopes, []string{})

	// Parameter object where we will unmarshal all parameters from the context
	var params ListTemplatesParams

	// ------------- Optional query parameter "page" -------------

	err = runtime.BindQueryParameter("form", true, false, "page", c.Request.URL.Query(), &params.Page)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "per_page" -------------

	err = runtime.BindQueryParameter("form", true, false, "per_page", c.Request.URL.Query(), &params.PerPage)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter per_page: %w", err), http.StatusBadRequest)
		return
	}

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.ListTemplates(c, params)
}

// ListVMs operation middleware
func (siw *ServerInterfaceWrapper) ListVMs(c *gin.Context) {

	var err error

	c.Set(BearerAuthScopes, []string{})

	// Parameter object where we will unmarshal all parameters from the context
	var params ListVMsParams

	// ------------- Optional query parameter "page" -------------

	err = runtime.BindQueryParameter("form", true, false, "page", c.Request.URL.Query(), &params.Page)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "per_page" -------------

	err = runtime.BindQueryParameter("form", true, false, "per_page", c.Request.URL.Query(), &params.PerPage)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter per_page: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "sort_by" -------------

	err = runtime.BindQueryParameter("form", true, false, "sort_by", c.Request.URL.Query(), &params.SortBy)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter sort_by: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "sort_order" -------------

	err = runtime.BindQueryParameter("form", true, false, "sort_order", c.Request.URL.Query(), &params.SortOrder)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter sort_order: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "namespace" -------------

	err = runtime.BindQueryParameter("form", true, false, "namespace", c.Request.URL.Query(), &params.Namespace)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter namespace: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "status" -------------

	err = runtime.BindQueryParameter("form", true, false, "status", c.Request.URL.Query(), &params.Status)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter status: %w", err), http.StatusBadRequest)
		return
	}

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.ListVMs(c, params)
}

// CreateVMRequest operation middleware
func (siw *ServerInterfaceWrapper) CreateVMRequest(c *gin.Context) {

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.CreateVMRequest(c)
}

// DeleteVM operation middleware
func (siw *ServerInterfaceWrapper) DeleteVM(c *gin.Context) {

	var err error

	// ------------- Path parameter "vm_id" -------------
	var vmId VMID

	err = runtime.BindStyledParameterWithOptions("simple", "vm_id", c.Param("vm_id"), &vmId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter vm_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	// Parameter object where we will unmarshal all parameters from the context
	var params DeleteVMParams

	// ------------- Optional query parameter "confirm" -------------

	err = runtime.BindQueryParameter("form", true, false, "confirm", c.Request.URL.Query(), &params.Confirm)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter confirm: %w", err), http.StatusBadRequest)
		return
	}

	// ------------- Optional query parameter "confirm_name" -------------

	err = runtime.BindQueryParameter("form", true, false, "confirm_name", c.Request.URL.Query(), &params.ConfirmName)
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter confirm_name: %w", err), http.StatusBadRequest)
		return
	}

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.DeleteVM(c, vmId, params)
}

// GetVM operation middleware
func (siw *ServerInterfaceWrapper) GetVM(c *gin.Context) {

	var err error

	// ------------- Path parameter "vm_id" -------------
	var vmId VMID

	err = runtime.BindStyledParameterWithOptions("simple", "vm_id", c.Param("vm_id"), &vmId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter vm_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.GetVM(c, vmId)
}

// RestartVM operation middleware
func (siw *ServerInterfaceWrapper) RestartVM(c *gin.Context) {

	var err error

	// ------------- Path parameter "vm_id" -------------
	var vmId VMID

	err = runtime.BindStyledParameterWithOptions("simple", "vm_id", c.Param("vm_id"), &vmId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter vm_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.RestartVM(c, vmId)
}

// StartVM operation middleware
func (siw *ServerInterfaceWrapper) StartVM(c *gin.Context) {

	var err error

	// ------------- Path parameter "vm_id" -------------
	var vmId VMID

	err = runtime.BindStyledParameterWithOptions("simple", "vm_id", c.Param("vm_id"), &vmId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter vm_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.StartVM(c, vmId)
}

// StopVM operation middleware
func (siw *ServerInterfaceWrapper) StopVM(c *gin.Context) {

	var err error

	// ------------- Path parameter "vm_id" -------------
	var vmId VMID

	err = runtime.BindStyledParameterWithOptions("simple", "vm_id", c.Param("vm_id"), &vmId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandler(c, fmt.Errorf("Invalid format for parameter vm_id: %w", err), http.StatusBadRequest)
		return
	}

	c.Set(BearerAuthScopes, []string{})

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.StopVM(c, vmId)
}

// GinServerOptions provides options for the Gin server.
type GinServerOptions struct {
	BaseURL      string
	Middlewares  []MiddlewareFunc
	ErrorHandler func(*gin.Context, error, int)
}

// RegisterHandlers creates http.Handler with routing matching OpenAPI spec.
func RegisterHandlers(router gin.IRouter, si ServerInterface) {
	RegisterHandlersWithOptions(router, si, GinServerOptions{})
}

// RegisterHandlersWithOptions creates http.Handler with additional options
func RegisterHandlersWithOptions(router gin.IRouter, si ServerInterface, options GinServerOptions) {
	errorHandler := options.ErrorHandler
	if errorHandler == nil {
		errorHandler = func(c *gin.Context, err error, statusCode int) {
			c.JSON(statusCode, gin.H{"msg": err.Error()})
		}
	}

	wrapper := ServerInterfaceWrapper{
		Handler:            si,
		HandlerMiddlewares: options.Middlewares,
		ErrorHandler:       errorHandler,
	}

	router.GET(options.BaseURL+"/admin/clusters", wrapper.ListClusters)
	router.POST(options.BaseURL+"/admin/clusters", wrapper.CreateCluster)
	router.PUT(options.BaseURL+"/admin/clusters/:cluster_id/environment", wrapper.UpdateClusterEnvironment)
	router.GET(options.BaseURL+"/admin/namespaces", wrapper.ListNamespaces)
	router.POST(options.BaseURL+"/admin/namespaces", wrapper.CreateNamespace)
	router.DELETE(options.BaseURL+"/admin/namespaces/:namespace_id", wrapper.DeleteNamespace)
	router.GET(options.BaseURL+"/admin/namespaces/:namespace_id", wrapper.GetNamespace)
	router.PUT(options.BaseURL+"/admin/namespaces/:namespace_id", wrapper.UpdateNamespace)
	router.GET(options.BaseURL+"/approvals", wrapper.ListApprovals)
	router.POST(options.BaseURL+"/approvals/:ticket_id/approve", wrapper.ApproveTicket)
	router.POST(options.BaseURL+"/approvals/:ticket_id/reject", wrapper.RejectTicket)
	router.GET(options.BaseURL+"/audit-logs", wrapper.ListAuditLogs)
	router.POST(options.BaseURL+"/auth/change-password", wrapper.ChangePassword)
	router.POST(options.BaseURL+"/auth/login", wrapper.Login)
	router.GET(options.BaseURL+"/auth/me", wrapper.GetCurrentUser)
	router.GET(options.BaseURL+"/health/live", wrapper.GetLiveness)
	router.GET(options.BaseURL+"/health/ready", wrapper.GetReadiness)
	router.GET(options.BaseURL+"/instance-sizes", wrapper.ListInstanceSizes)
	router.GET(options.BaseURL+"/notifications", wrapper.ListNotifications)
	router.POST(options.BaseURL+"/notifications/mark-all-read", wrapper.MarkAllNotificationsRead)
	router.GET(options.BaseURL+"/notifications/unread-count", wrapper.GetUnreadCount)
	router.PATCH(options.BaseURL+"/notifications/:notification_id/read", wrapper.MarkNotificationRead)
	router.GET(options.BaseURL+"/systems", wrapper.ListSystems)
	router.POST(options.BaseURL+"/systems", wrapper.CreateSystem)
	router.DELETE(options.BaseURL+"/systems/:system_id", wrapper.DeleteSystem)
	router.GET(options.BaseURL+"/systems/:system_id", wrapper.GetSystem)
	router.GET(options.BaseURL+"/systems/:system_id/services", wrapper.ListServices)
	router.POST(options.BaseURL+"/systems/:system_id/services", wrapper.CreateService)
	router.DELETE(options.BaseURL+"/systems/:system_id/services/:service_id", wrapper.DeleteService)
	router.GET(options.BaseURL+"/systems/:system_id/services/:service_id", wrapper.GetService)
	router.GET(options.BaseURL+"/templates", wrapper.ListTemplates)
	router.GET(options.BaseURL+"/vms", wrapper.ListVMs)
	router.POST(options.BaseURL+"/vms/request", wrapper.CreateVMRequest)
	router.DELETE(options.BaseURL+"/vms/:vm_id", wrapper.DeleteVM)
	router.GET(options.BaseURL+"/vms/:vm_id", wrapper.GetVM)
	router.POST(options.BaseURL+"/vms/:vm_id/restart", wrapper.RestartVM)
	router.POST(options.BaseURL+"/vms/:vm_id/start", wrapper.StartVM)
	router.POST(options.BaseURL+"/vms/:vm_id/stop", wrapper.StopVM)
}

// Base64 encoded, gzipped, json marshaled Swagger object
var swaggerSpec = []string{

	"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",
}

// GetSwagger returns the content of the embedded swagger specification file
// or error if failed to decode
func decodeSpec() ([]byte, error) {
	zipped, err := base64.StdEncoding.DecodeString(strings.Join(swaggerSpec, ""))
	if err != nil {
		return nil, fmt.Errorf("error base64 decoding spec: %w", err)
	}
	zr, err := gzip.NewReader(bytes.NewReader(zipped))
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}
	var buf bytes.Buffer
	_, err = buf.ReadFrom(zr)
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}

	return buf.Bytes(), nil
}

var rawSpec = decodeSpecCached()

// a naive cached of a decoded swagger spec
func decodeSpecCached() func() ([]byte, error) {
	data, err := decodeSpec()
	return func() ([]byte, error) {
		return data, err
	}
}

// Constructs a synthetic filesystem for resolving external references when loading openapi specifications.
func PathToRawSpec(pathToFile string) map[string]func() ([]byte, error) {
	res := make(map[string]func() ([]byte, error))
	if len(pathToFile) > 0 {
		res[pathToFile] = rawSpec
	}

	return res
}

// GetSwagger returns the Swagger specification corresponding to the generated code
// in this file. The external references of Swagger specification are resolved.
// The logic of resolving external references is tightly connected to "import-mapping" feature.
// Externally referenced files must be embedded in the corresponding golang packages.
// Urls can be supported but this task was out of the scope.
func GetSwagger() (swagger *openapi3.T, err error) {
	resolvePath := PathToRawSpec("")

	loader := openapi3.NewLoader()
	loader.IsExternalRefsAllowed = true
	loader.ReadFromURIFunc = func(loader *openapi3.Loader, url *url.URL) ([]byte, error) {
		pathToFile := url.String()
		pathToFile = path.Clean(pathToFile)
		getSpec, ok := resolvePath[pathToFile]
		if !ok {
			err1 := fmt.Errorf("path not found: %s", pathToFile)
			return nil, err1
		}
		return getSpec()
	}
	var specData []byte
	specData, err = rawSpec()
	if err != nil {
		return
	}
	swagger, err = loader.LoadFromData(specData)
	if err != nil {
		return
	}
	return
}
